{"remainingRequest":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Core\\PersonalPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Core\\PersonalPanel.vue","mtime":1713593527974},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAiQC91dGlscy9kYXRldGltZSI7CmltcG9ydCB1c2VyIGZyb20gIkAvc3RvcmUvbW9kdWxlcy91c2VyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQZXJzb25hbFBhbmVsJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgdXNlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuaWNrTmFtZTogImFkbWluIiwKICAgICAgICAgIGF2YXRhcjogIkAvYXNzZXRzL3VzZXIucG5nIiwKICAgICAgICAgIHJvbGU6ICLotoXnuqfnrqHnkIblkZgiLAogICAgICAgICAgcmVnaXN0ZUluZm86ICLms6jlhozml7bpl7TvvJoyMDE4LTEyLTI1ICIKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb25saW5lVXNlcjogMCwKICAgICAgYWNjZXNzVGltZXM6IDAsCiAgICAgIHNpemU6ICdzbWFsbCcsCiAgICAgIHVwZGF0ZVB3ZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB1cGRhdGVQd2RMb2FkaW5nOiBmYWxzZSwKICAgICAgcm9sZW5hbWU6ICcnLAogICAgICB1cGRhdGVQd2REYXRhRm9ybTogewogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBuZXdQYXNzd29yZDogJycsCiAgICAgICAgY29tZmlybVBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICB1cGRhdGVQd2REYXRhRm9ybVJ1bGVzOiB7CiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXljp/lr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmV3UGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmlrDlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY29tZmlybVBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+356Gu6K6k5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmiZPlvIDkv67mlLnlr4bnoIHlr7nor53moYYKICAgIG9wZW51cGRhdGVQYXNzd29yZERpYWxvZzogZnVuY3Rpb24gb3BlbnVwZGF0ZVBhc3N3b3JkRGlhbG9nKCkgewogICAgICB0aGlzLnVwZGF0ZVB3ZERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOS/ruaUueWvhueggQogICAgdXBkYXRlUGFzc3dvcmQ6IGZ1bmN0aW9uIHVwZGF0ZVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy51cGRhdGVQd2REYXRhRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpcy51cGRhdGVQd2REYXRhRm9ybS5uZXdQYXNzd29yZCAhPSBfdGhpcy51cGRhdGVQd2REYXRhRm9ybS5jb21maXJtUGFzc3dvcmQpIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlr4bnoIHkuI7noa7orqTmlrDlr4bnoIHkuI3kuIDoh7QnLAogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMudXBkYXRlUHdkTG9hZGluZyA9IHRydWU7CiAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICBwYXNzd29yZDogX3RoaXMudXBkYXRlUHdkRGF0YUZvcm0ucGFzc3dvcmQsCiAgICAgICAgICAgIG5ld1Bhc3N3b3JkOiBfdGhpcy51cGRhdGVQd2REYXRhRm9ybS5uZXdQYXNzd29yZAogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpcy4kYXBpLnVzZXIudXBkYXRlUGFzc3dvcmQocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMudXBkYXRlUHdkTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip8nLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF90aGlzLiRyZWZzWyd1cGRhdGVQd2REYXRhRm9ybSddLnJlc2V0RmllbGRzKCk7CgogICAgICAgICAgICAgIF90aGlzLmxvZ291dEFwaSgpOwoKICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQd2REaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOWksei0pSwgJyArIHJlcy5tc2csCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCA5Ye655m75b2VCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTpgIDlh7rlkJc/IiwgIuaPkOekuiIsIHsKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxvZ291dEFwaSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLy8g5riF6Zmk57yT5a2Y5bm26YCA5Ye655m75b2VCiAgICBjbGVhckNhY2hlOiBmdW5jdGlvbiBjbGVhckNhY2hlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOa4hemZpOe8k+WtmOW5tumAgOWHuueZu+W9leWQlz8iLCAi5o+Q56S6IiwgewogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZGVsZXRlQ29va2llKCd0b2tlbicpOyAvLyDmuIXnqbpDb29raWXph4znmoR0b2tlbgoKCiAgICAgICAgX3RoaXMzLmxvZ291dEFwaSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgbG9nb3V0QXBpOiBmdW5jdGlvbiBsb2dvdXRBcGkoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogICAgICB0aGlzLiRhcGkubG9naW4ubG9nb3V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHt9KTsKICAgIH0sCiAgICAvLyDmuIXpmaRDb29raWUKICAgIGRlbGV0ZUNvb2tpZTogZnVuY3Rpb24gZGVsZXRlQ29va2llKG5hbWUpIHsKICAgICAgdmFyIG15RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIG15RGF0ZS5zZXRUaW1lKC0xMDAwKTsgLy8g6K6+572u6L+H5pyf5pe26Ze0CgogICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgIj0nJzsgZXhwaXJlcz0iICsgbXlEYXRlLnRvR01UU3RyaW5nKCk7CiAgICB9LAogICAgLy8g6I635Y+W5Zyo57q/55So5oi35pWwCiAgICBjb3VudE9ubGluZVVzZXI6IGZ1bmN0aW9uIGNvdW50T25saW5lVXNlcigpIHt9LAogICAgLy8g6I635Y+W6K6/6Zeu5qyh5pWwCiAgICBjb3VudEFjY2Vzc1RpbWVzOiBmdW5jdGlvbiBjb3VudEFjY2Vzc1RpbWVzKCkge30sCiAgICBvcGVuT25saW5lUGFnZTogZnVuY3Rpb24gb3Blbk9ubGluZVBhZ2UoKSB7CiAgICAgIC8vIOmAmui/h+iPnOWNlVVSTOi3s+i9rOiHs+aMh+Wumui3r+eUsQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3N5cy9vbmxpbmUnKTsKICAgIH0sCiAgICAvLyDml7bpl7TmoLzlvI/ljJYKICAgIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uIGRhdGVGb3JtYXQoZGF0ZSkgewogICAgICByZXR1cm4gZm9ybWF0KGRhdGUpOwogICAgfSwKICAgIHNob3dSb2xlTmFtZTogZnVuY3Rpb24gc2hvd1JvbGVOYW1lKCkgewogICAgICBpZiAodGhpcy51c2VyLnR5cGUgPT0gMCkgewogICAgICAgIHRoaXMucm9sZW5hbWUgPSB0aGlzLnVzZXIucm9sZU5hbWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy51c2VyLnR5cGUgPT0gMSkgewogICAgICAgIHRoaXMucm9sZW5hbWUgPSAi5Luj55CGIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLnVzZXIudHlwZSA9PSAyKSB7CiAgICAgICAgdGhpcy5yb2xlbmFtZSA9ICLlrqLmiLciOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHsKICAgIHRoaXMuc2hvd1JvbGVOYW1lKCk7CiAgfQp9Ow=="},{"version":3,"sources":["PersonalPanel.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"personal-panel\">\r\n    <div class=\"personal-desc\" :style=\"{'background':this.$store.state.app.themeColor}\">\r\n        <div class=\"name-role\">\r\n          <span class=\"sender\" v-if=\"user.type > 0\">{{ user.loginname }} - {{ user.clevel }}级{{ rolename }}</span>\r\n          <span class=\"sender\" v-else>{{ user.loginname }} - {{ rolename }}</span>\r\n        </div>\r\n        <div class=\"registe-info\">\r\n          <span class=\"registe-info\">\r\n\r\n          </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"other-operation\">\r\n        <div class=\"other-operation-item\" @click=\"clearCache\">\r\n          <li class=\"fa fa-eraser\"></li>\r\n          清除缓存\r\n        </div>\r\n        <div class=\"other-operation-item\" @click=\"openupdatePasswordDialog\">\r\n          <li class=\"fa fa-key\"></li>\r\n          修改密码\r\n        </div>\r\n        <div class=\"other-operation-item\" @click=\"logout\">\r\n          <li class=\"fa fa-sign-out\"></li>\r\n          退出登陆\r\n        </div>\r\n\r\n    </div>\r\n    <!--修改密码界面-->\r\n    <el-dialog title=\"修改密码\" width=\"40%\" :visible.sync=\"updatePwdDialogVisible\" :close-on-click-modal=\"false\" :modal=\"false\">\r\n      <el-form :model=\"updatePwdDataForm\" label-width=\"100px\" :rules=\"updatePwdDataFormRules\" ref=\"updatePwdDataForm\" :size=\"size\">\r\n        <el-form-item label=\"原密码\" prop=\"password\">\r\n          <el-input v-model=\"updatePwdDataForm.password\" type=\"password\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\" prop=\"newPassword\">\r\n          <el-input v-model=\"updatePwdDataForm.newPassword\" type=\"password\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认新密码\" prop=\"comfirmPassword\">\r\n          <el-input v-model=\"updatePwdDataForm.comfirmPassword\" type=\"password\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button :size=\"size\" @click.native=\"updatePwdDialogVisible = false\">{{$t('action.cancel')}}</el-button>\r\n        <el-button :size=\"size\" type=\"primary\" @click.native=\"updatePassword\" :loading=\"updatePwdLoading\">{{$t('action.comfirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { format } from \"@/utils/datetime\"\r\nimport user from \"@/store/modules/user\";\r\nexport default {\r\n  name: 'PersonalPanel',\r\n  components:{\r\n\r\n  },\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default(){\r\n          return {\r\n          nickName: \"admin\",\r\n          avatar: \"@/assets/user.png\",\r\n          role: \"超级管理员\",\r\n          registeInfo: \"注册时间：2018-12-25 \"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      onlineUser: 0,\r\n      accessTimes: 0,\r\n      size: 'small',\r\n      updatePwdDialogVisible: false,\r\n      updatePwdLoading: false,\r\n      rolename: '',\r\n      updatePwdDataForm: {\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tnewPassword: '',\r\n\t\t\t\tcomfirmPassword: ''\r\n\t\t\t},\r\n      updatePwdDataFormRules: {\r\n\t\t\t\tpassword: [\r\n\t\t\t\t\t{ required: true, message: '请输入原密码', trigger: 'blur' }\r\n        ],\r\n        newPassword: [\r\n\t\t\t\t\t{ required: true, message: '请输入新密码', trigger: 'blur' }\r\n        ],\r\n        comfirmPassword: [\r\n\t\t\t\t\t{ required: true, message: '请确认密码', trigger: 'blur' }\r\n\t\t\t\t]\r\n\t\t\t},\r\n    }\r\n  },\r\n  methods: {\r\n    // 打开修改密码对话框\r\n\t\topenupdatePasswordDialog: function () {\r\n\t\t\tthis.updatePwdDialogVisible = true\r\n\t\t},\r\n    // 修改密码\r\n\t\tupdatePassword: function () {\r\n\t\t\tthis.$refs.updatePwdDataForm.validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n          if(this.updatePwdDataForm.newPassword != this.updatePwdDataForm.comfirmPassword) {\r\n            this.$message({message: '新密码与确认新密码不一致', type: 'error'})\r\n            return\r\n          }\r\n\t\t\t\tthis.updatePwdLoading = true\r\n\t\t\t\tlet params = {password:this.updatePwdDataForm.password, newPassword:this.updatePwdDataForm.newPassword}\r\n\t\t\t\tthis.$api.user.updatePassword(params).then((res) => {\r\n\t\t\t\t\tthis.updatePwdLoading = false\r\n\t\t\t\t\tif(res.code == 200) {\r\n\t\t\t\t\t\tthis.$message({ message: '操作成功', type: 'success' })\r\n\t\t\t\t    this.$refs['updatePwdDataForm'].resetFields()\r\n\t\t\t\t    this.logoutApi()\r\n\t\t\t\t   this.updatePwdDialogVisible = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t    this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n    // 退出登录\r\n    logout() {\r\n      this.$confirm(\"确认退出吗?\", \"提示\", {\r\n        type: \"warning\"\r\n      })\r\n      .then(() => {\r\n        this.logoutApi()\r\n      })\r\n      .catch(() => {})\r\n    },\r\n    // 清除缓存并退出登录\r\n    clearCache() {\r\n      this.$confirm(\"确认清除缓存并退出登录吗?\", \"提示\", {\r\n        type: \"warning\"\r\n      })\r\n      .then(() => {\r\n        this.deleteCookie('token')// 清空Cookie里的token\r\n        this.logoutApi()\r\n      })\r\n      .catch(() => {})\r\n    },\r\n    logoutApi() {\r\n      sessionStorage.removeItem(\"user\")\r\n        this.$api.login.logout().then((res) => {\r\n          this.$router.push(\"/login\")\r\n          }).catch(function(res) {\r\n        })\r\n    },\r\n    // 清除Cookie\r\n    deleteCookie(name){\r\n         var myDate = new Date()\r\n         myDate.setTime(-1000) // 设置过期时间\r\n         document.cookie = name+\"=''; expires=\"+myDate.toGMTString();\r\n    },\r\n    // 获取在线用户数\r\n\t\tcountOnlineUser() {\r\n\r\n\t\t},\r\n    // 获取访问次数\r\n\t\tcountAccessTimes() {\r\n\r\n\t\t},\r\n    openOnlinePage() {\r\n      // 通过菜单URL跳转至指定路由\r\n      this.$router.push('/sys/online')\r\n    },\r\n\t\t// 时间格式化\r\n    dateFormat(date){\r\n      return format(date)\r\n    },\r\n    showRoleName(){\r\n        if(this.user.type == 0){\r\n          this.rolename = this.user.roleName\r\n        }else if(this.user.type==1){\r\n          this.rolename = \"代理\"\r\n        }else if(this.user.type==2){\r\n          this.rolename = \"客户\"\r\n        }\r\n    }\r\n\r\n  },\r\n  beforeUpdate() {\r\n    this.showRoleName()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.personal-panel {\r\n  font-size: 14px;\r\n  width: 280px;\r\n  text-align: center;\r\n  border-color: rgba(180, 190, 190, 0.2);\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  background: rgba(182, 172, 172, 0.1);\r\n  margin: -14px;\r\n}\r\n.personal-desc {\r\n  padding: 15px;\r\n  color: #fff;\r\n}\r\n.avatar {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 90px;\r\n}\r\n.name-role {\r\n  font-size: 16px;\r\n  padding: 5px;\r\n}\r\n.personal-relation {\r\n  font-size: 16px;\r\n  padding: 12px;\r\n  margin-right: 1px;\r\n  background: rgba(200, 209, 204, 0.3);\r\n}\r\n.relation-item {\r\n  padding: 12px;\r\n}\r\n.relation-item:hover {\r\n  cursor: pointer;\r\n  color: rgb(19, 138, 156);\r\n}\r\n.main-operation {\r\n  padding: 8px;\r\n  margin-right: 1px;\r\n  /* background: rgba(175, 182, 179, 0.3); */\r\n  border-color: rgba(201, 206, 206, 0.2);\r\n  border-top-width: 1px;\r\n  border-top-style: solid;\r\n}\r\n.main-operation-item {\r\n  margin: 15px;\r\n}\r\n.other-operation {\r\n  padding: 15px;\r\n  margin-right: 1px;\r\n  text-align: left;\r\n  border-color: rgba(180, 190, 190, 0.2);\r\n  border-top-width: 1px;\r\n  border-top-style: solid;\r\n}\r\n.other-operation-item {\r\n  padding: 12px;\r\n}\r\n.other-operation-item:hover {\r\n  cursor: pointer;\r\n  background: #9e94941e;\r\n  color: rgb(19, 138, 156);\r\n}\r\n.personal-footer {\r\n  margin-right: 1px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  border-color: rgba(180, 190, 190, 0.2);\r\n  border-top-width: 1px;\r\n  border-top-style: solid;\r\n}\r\n.personal-footer:hover {\r\n  cursor: pointer;\r\n  color: rgb(19, 138, 156);\r\n  background: #b1a6a61e;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/Core"}]}