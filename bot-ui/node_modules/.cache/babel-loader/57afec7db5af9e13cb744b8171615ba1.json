{"remainingRequest":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-manager\\bot-ui\\src\\views\\Trade\\Compents\\UploadFileMulty.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-manager\\bot-ui\\src\\views\\Trade\\Compents\\UploadFileMulty.vue","mtime":1702475008485},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBmaWxlVXJsIH0gZnJvbSAnQC91dGlscy9nbG9iYWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VwbG9hZEZpbGVNdXRseScsCiAgcHJvcHM6IHsKICAgIG1vZGVsOiBTdHJpbmcsCiAgICBpbWdQYXRoOiBTdHJpbmcsCiAgICBpbmZvOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cGxvYWRVcmw6IGZpbGVVcmwgKyAnL3VwbG9hZEZpbGUnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpbWdVcmw6ICcnLAogICAgICBmaWxlczogW10sCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgZGF0YToge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RmlsZVVybDogZnVuY3Rpb24gaW5pdEZpbGVVcmwoZmlsZUxpc3QpIHsKICAgICAgdGhpcy5maWxlcyA9IGZpbGVMaXN0OwogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuaW5pdEZpbGVVcmwoZmlsZUxpc3QpOwogICAgfSwKICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGUpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5pbWdVcmwgPSBmaWxlLnVybDsKICAgIH0sCiAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgIHZhciB0eXBlID0gZmlsZS50eXBlOwogICAgICB2YXIgaXNKUEcgPSAnaW1hZ2UvanBlZyxpbWFnZS9wbmcsaW1hZ2UvYm1wJy5pbmRleE9mKHR5cGUpID4gLTE7CiAgICAgIHZhciBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEwOwoKICAgICAgaWYgKCFpc0pQRykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+WPquiDveaYryBKUEcg5qC85byPIScpOwogICAgICB9CgogICAgICBpZiAoIWlzTHQyTSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAxME1CIScpOwogICAgICB9CgogICAgICB0aGlzLmRhdGEudHlwZSA9IHRoaXMubW9kZWw7CiAgICAgIHRoaXMuZGF0YS5wYXRoID0gZmlsZS51cmw7CiAgICAgIHJldHVybiBpc0pQRyAmJiBpc0x0Mk07CiAgICB9LAogICAgaGFuZGxlQXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGlmIChyZXMuZXJyb3IgPT09IDApIHsKICAgICAgICBmaWxlLnVybCA9IGZpbGVVcmwgKyAnL2Rvd25sb2FkRmlsZT9wYXRoPScgKyByZXMudXJsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS4iuS8oOaWh+S7tuWksei0pToiICsgcmVzLm1lc3NhZ2UpOwogICAgICB9CgogICAgICB0aGlzLmluaXRGaWxlVXJsKGZpbGVMaXN0KTsKICAgIH0sCiAgICBnZXRQYXRoOiBmdW5jdGlvbiBnZXRQYXRoKCkgewogICAgICB2YXIgcGF0aCA9ICcnOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzW2ldOwoKICAgICAgICBpZiAoZmlsZS5yZXNwb25zZS51cmwpIHsKICAgICAgICAgIHBhdGggKz0gZmlsZS5yZXNwb25zZS51cmwgKyAiOyI7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocGF0aCkgewogICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDEpOwogICAgICB9CgogICAgICByZXR1cm4gcGF0aDsKICAgIH0sCiAgICBpbml0RmlsZUxpc3Q6IGZ1bmN0aW9uIGluaXRGaWxlTGlzdCgpIHsKICAgICAgaWYgKHRoaXMuaW1nUGF0aCkgewogICAgICAgIHZhciBwYXRocyA9IHRoaXMuaW1nUGF0aC5zcGxpdCgiOyIpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2ldOwogICAgICAgICAgaWYgKCFwYXRoKSBjb250aW51ZTsKICAgICAgICAgIHZhciByZXNwb25zZSA9IHsKICAgICAgICAgICAgZXJyb3I6IDAsCiAgICAgICAgICAgIHVybDogcGF0aAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBmaWxlID0gewogICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UsCiAgICAgICAgICAgIHVybDogZmlsZVVybCArICcvZG93bmxvYWRGaWxlP3BhdGg9JyArIHBhdGgKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goZmlsZSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmluaXRGaWxlVXJsKHRoaXMuZmlsZUxpc3QpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RmlsZUxpc3QoKTsKICB9Cn07"},{"version":3,"sources":["UploadFileMulty.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-upload\r\n      :action=\"uploadUrl\"\r\n      list-type=\"picture-card\"\r\n      :file-list=\"fileList\"\r\n      :data=\"data\"\r\n      :on-preview=\"handlePictureCardPreview\"\r\n      :on-remove=\"handleRemove\"\r\n      :on-success=\"handleAvatarSuccess\"\r\n      :before-upload=\"beforeAvatarUpload\">\r\n      <i class=\"el-icon-plus\"></i>\r\n      <div slot=\"tip\" class=\"el-upload__tip\">{{info}}</div>\r\n    </el-upload>\r\n    <el-dialog :visible.sync=\"dialogVisible\" append-to-body v-dialog-drag width=\"500px\" >\r\n      <img width=\"100%\" :src=\"imgUrl\" alt=\"\">\r\n    </el-dialog>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { fileUrl } from '@/utils/global'\r\nexport default {\r\n  name: 'UploadFileMutly',\r\n  props:{\r\n    model:String,\r\n    imgPath:String,\r\n    info:String\r\n  },\r\n  data() {\r\n    return {\r\n      uploadUrl: fileUrl + '/uploadFile',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      imgUrl:'',\r\n      files:[],\r\n      fileList:[],\r\n      data:{}\r\n    };\r\n  },\r\n  methods: {\r\n    initFileUrl(fileList){\r\n      this.files = fileList\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.initFileUrl(fileList)\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogVisible = true;\r\n      this.imgUrl = file.url\r\n    },\r\n    beforeAvatarUpload(file){\r\n      const type = file.type\r\n      const isJPG = 'image/jpeg,image/png,image/bmp'.indexOf(type) > -1;\r\n      const isLt2M = file.size / 1024 / 1024 < 10;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传图片只能是 JPG 格式!');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传图片大小不能超过 10MB!');\r\n      }\r\n      this.data.type = this.model\r\n      this.data.path = file.url\r\n      return isJPG && isLt2M;\r\n    },\r\n    handleAvatarSuccess(res, file,fileList) {\r\n      if(res.error===0){\r\n        file.url = fileUrl + '/downloadFile?path=' +res.url\r\n      }else{\r\n        this.$message.error(\"上传文件失败:\"+ res.message)\r\n      }\r\n      this.initFileUrl(fileList)\r\n    },\r\n    getPath(){\r\n      let path = '';\r\n\r\n      for(var i=0;i<this.files.length;i++){\r\n        const file = this.files[i];\r\n        if(file.response.url){\r\n          path += file.response.url + \";\"\r\n        }\r\n      }\r\n      if(path){\r\n        path = path.substring(0,path.length-1)\r\n      }\r\n      return path\r\n    },\r\n    initFileList(){\r\n      if(this.imgPath){\r\n        let paths = this.imgPath.split(\";\")\r\n        for(var i=0;i<paths.length;i++){\r\n\r\n          let path = paths[i];\r\n          if(!path) continue;\r\n          let response = {\r\n            error: 0,\r\n            url: path\r\n          }\r\n          let file = {\r\n            response: response,\r\n            url: fileUrl + '/downloadFile?path=' +path\r\n          }\r\n          this.fileList.push(file)\r\n        }\r\n      this.initFileUrl(this.fileList)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initFileList()\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/Trade/Compents"}]}