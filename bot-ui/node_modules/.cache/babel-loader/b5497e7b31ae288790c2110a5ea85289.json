{"remainingRequest":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\soft\\workspace\\bot-manager\\bot-ui\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\src\\views\\Login.vue","mtime":1702475008447},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovc29mdC93b3Jrc3BhY2UvYm90LW1hbmFnZXIvYm90LXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKaW1wb3J0IFRoZW1lUGlja2VyIGZyb20gIkAvY29tcG9uZW50cy9UaGVtZVBpY2tlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6IHsKICAgIFRoZW1lUGlja2VyOiBUaGVtZVBpY2tlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICBhY2NvdW50OiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY2FwdGNoYTogJycsCiAgICAgICAgc3JjOiAnJwogICAgICB9LAogICAgICBpbWdTcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9iZ19sb2dpbi5qcGcnKSwKICAgICAgZmllbGRSdWxlczogewogICAgICAgIGFjY291bnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXotKblj7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgY2hlY2tlZDogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHZhciB1c2VySW5mbyA9IHsKICAgICAgICBhY2NvdW50OiB0aGlzLmxvZ2luRm9ybS5hY2NvdW50LAogICAgICAgIHBhc3N3b3JkOiB0aGlzLmxvZ2luRm9ybS5wYXNzd29yZCwKICAgICAgICBjYXB0Y2hhOiB0aGlzLmxvZ2luRm9ybS5jYXB0Y2hhCiAgICAgIH07CiAgICAgIHRoaXMuJGFwaS5sb2dpbi5sb2dpbih1c2VySW5mbykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5tc2cgIT0gbnVsbCkgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy5yZWZyZXNoQ2FwdGNoYSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBDb29raWVzLnNldCgndG9rZW4nLCByZXMuZGF0YS50b2tlbik7IC8vIOaUvue9rnRva2Vu5YiwQ29va2llCiAgICAgICAgICAvL3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VG9rZW4nLCByZXMuZGF0YS50b2tlbikKCiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgdXNlckluZm8uYWNjb3VudCk7IC8vIOS/neWtmOeUqOaIt+WIsOacrOWcsOS8muivnQoKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJUeXBlJywgcmVzLmRhdGEudHlwZSk7IC8vCgogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnbWVudVJvdXRlTG9hZGVkJywgZmFsc2UpOyAvLyDopoHmsYLph43mlrDliqDovb3lr7zoiKroj5zljZUKCgogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlTWFpblRhYnMnLCBbXSk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7IC8vIOeZu+W9leaIkOWKn++8jOi3s+i9rOWIsOS4u+mhtQoKICAgICAgICB9CgogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5yZWZyZXNoQ2FwdGNoYSgpOwoKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2hDYXB0Y2hhOiBmdW5jdGlvbiByZWZyZXNoQ2FwdGNoYSgpIHsKICAgICAgdGhpcy5sb2dpbkZvcm0uc3JjID0gdGhpcy5nbG9iYWwuYmFzZVVybCArICIvY2FwdGNoYS5qcGc/dD0iICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIC8vIOWIh+aNouS4u+mimAogICAgb25UaGVtZUNoYW5nZTogZnVuY3Rpb24gb25UaGVtZUNoYW5nZSh0aGVtZUNvbG9yKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VGhlbWVDb2xvcicsIHRoZW1lQ29sb3IpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucmVmcmVzaENhcHRjaGEoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICB0aGVtZUNvbG9yOiBmdW5jdGlvbiB0aGVtZUNvbG9yKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hcHAudGhlbWVDb2xvcjsKICAgIH0sCiAgICBhcHBOYW1lOiBmdW5jdGlvbiBhcHBOYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hcHAuYXBwTmFtZTsKICAgIH0KICB9KSkKfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n      <div class=\"background\">\r\n        <img :src=\"imgSrc\" width=\"100%\" height=\"100%\" alt=\"\" />\r\n      </div>\r\n    <div class=\"front\" v-title :data-title=\"appName\">\r\n        <el-form :model=\"loginForm\" :rules=\"fieldRules\" ref=\"loginForm\" label-position=\"left\" label-width=\"0px\" class=\"demo-ruleForm login-container\">\r\n          <span class=\"tool-bar\">\r\n            <!-- 主题切换 -->\r\n            <theme-picker style=\"float:right;\" class=\"theme-picker\" :default=\"themeColor\" @onThemeChange=\"onThemeChange\"></theme-picker>\r\n          </span>\r\n          <h2 class=\"title\" style=\"padding-left:22px;\" >系统登录</h2>\r\n          <el-form-item prop=\"account\">\r\n            <el-input type=\"text\" v-model=\"loginForm.account\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item >\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"captcha\">\r\n                <el-input type=\"test\" v-model=\"loginForm.captcha\" auto-complete=\"off\" placeholder=\"验证码, 单击图片刷新\"\r\n                  style=\"width: 100%;\" @keyup.enter.native=\"login\">\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col class=\"line\" :span=\"1\">&nbsp;</el-col>\r\n            <el-col :span=\"11\">\r\n              <el-form-item>\r\n                  <img style=\"width: 100%;\" class=\"pointer\" :src=\"loginForm.src\" @click=\"refreshCaptcha\">\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-form-item>\r\n          <el-form-item style=\"width:100%;\">\r\n            <el-button type=\"primary\" style=\"width:48%;\" @click.native.prevent=\"reset\">重 置</el-button>\r\n            <el-button type=\"primary\" style=\"width:48%;\" @click.native.prevent=\"login\" :loading=\"loading\">登 录</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport Cookies from \"js-cookie\"\r\nimport ThemePicker from \"@/components/ThemePicker\"\r\nexport default {\r\n  name: 'Login',\r\n  components:{\r\n    ThemePicker\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        account: '',\r\n        password: '',\r\n        captcha:'',\r\n        src: ''\r\n      },\r\n      imgSrc:require('../assets/bg_login.jpg'),\r\n      fieldRules: {\r\n        account: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' }\r\n        ]\r\n      },\r\n      checked: true\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.loading = true\r\n      let userInfo = {account:this.loginForm.account, password:this.loginForm.password, captcha:this.loginForm.captcha}\r\n      this.$api.login.login(userInfo).then((res) => {\r\n          if(res.msg != null) {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'error'\r\n            })\r\n            this.refreshCaptcha()\r\n          } else {\r\n            Cookies.set('token', res.data.token) // 放置token到Cookie\r\n            //this.$store.commit('setToken', res.data.token)\r\n            sessionStorage.setItem('user', userInfo.account) // 保存用户到本地会话\r\n            sessionStorage.setItem('userType', res.data.type) //\r\n            this.$store.commit('menuRouteLoaded', false) // 要求重新加载导航菜单\r\n            this.$store.commit('updateMainTabs', [])\r\n            this.$router.push('/')  // 登录成功，跳转到主页\r\n          }\r\n          this.loading = false\r\n        }).catch((res) => {\r\n          this.$message({\r\n          message: res.message,\r\n          type: 'error'\r\n          })\r\n          this.refreshCaptcha()\r\n          this.loading = false\r\n        });\r\n    },\r\n    refreshCaptcha: function(){\r\n      this.loginForm.src = this.global.baseUrl + \"/captcha.jpg?t=\" + new Date().getTime();\r\n    },\r\n    reset() {\r\n      this.$refs.loginForm.resetFields()\r\n    },\r\n    // 切换主题\r\n    onThemeChange: function(themeColor) {\r\n      this.$store.commit('setThemeColor', themeColor)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.refreshCaptcha()\r\n  },\r\n  computed:{\r\n    ...mapState({\r\n      themeColor: state=>state.app.themeColor,\r\n      appName:state=>state.app.appName\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .background{\r\n      width:98%;\r\n      height:98%;  /**宽高100%是为了图片铺满屏幕 */\r\n      z-index:-1;\r\n      position: absolute;\r\n      padding: 0;\r\n      margin:0;\r\n  }\r\n  .front{\r\n      z-index:1;\r\n      position: absolute;\r\n      width: 98%;\r\n  }\r\n  .login-container {\r\n    -webkit-border-radius: 5px;\r\n    border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    background-clip: padding-box;\r\n    margin: 250px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n    opacity:0.9;\r\n    .title {\r\n      margin: 0px auto 30px auto;\r\n      text-align: center;\r\n      color: #505458;\r\n    }\r\n    .remember {\r\n      margin: 0px 0px 35px 0px;\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views"}]}