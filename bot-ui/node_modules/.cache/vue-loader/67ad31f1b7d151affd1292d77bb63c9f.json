{"remainingRequest":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Core\\KtTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Core\\KtTable.vue","mtime":1704288161059},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgS3RCdXR0b24gZnJvbSAiQC92aWV3cy9Db3JlL0t0QnV0dG9uIg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnS3RUYWJsZScsDQogIGNvbXBvbmVudHM6ew0KCQkJS3RCdXR0b24NCgl9LA0KICBwcm9wczogew0KICAgIGNvbHVtbnM6IEFycmF5LCAvLyDooajmoLzliJfphY3nva4NCiAgICBkYXRhOiBPYmplY3QsIC8vIOihqOagvOWIhumhteaVsOaNrg0KICAgIHBlcm1zRWRpdDogU3RyaW5nLCAgLy8g57yW6L6R5p2D6ZmQ5qCH6K+GDQogICAgcGVybXNEZWxldGU6IFN0cmluZywgIC8vIOWIoOmZpOadg+mZkOagh+ivhg0KICAgIGJ1dHRvbnM6IHsNCiAgICAgIHR5cGU6QXJyYXksDQogICAgICBkZWZhdWx0OigpPT5bXQ0KICAgIH0sDQogICAgc2l6ZTogeyAvLyDlsLrlr7jmoLflvI8NCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdtaW5pJw0KICAgIH0sDQogICAgYWxpZ246IHsgIC8vIOaWh+acrOWvuem9kOaWueW8jw0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2xlZnQnDQogICAgfSwNCiAgICBtYXhIZWlnaHQ6IHsgIC8vIOihqOagvOacgOWkp+mrmOW6pg0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogNzAwDQogICAgfSwNCiAgICBzaG93T3BlcmF0aW9uOiB7ICAvLyDmmK/lkKbmmL7npLrmk43kvZznu4Tku7YNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBib3JkZXI6IHsgIC8vIOaYr+WQpuaYvuekuui+ueahhg0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBzdHJpcGU6IHsgIC8vIOaYr+WQpuaYvuekuuaWkemprOe6vw0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGhpZ2hsaWdodEN1cnJlbnRSb3c6IHsgIC8vIC8vIOaYr+WQpumrmOS6ruW9k+WJjeihjA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHNob3dPdmVyZmxvd1Rvb2x0aXA6IHsgIC8vIOaYr+WQpuWNleihjOaYvuekug0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHNob3dCYXRjaERlbGV0ZTogeyAgLy8g5piv5ZCm5pi+56S65pON5L2c57uE5Lu2DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgc2hvd1NlcUNvbHVtbjp7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OidpbmRleCcNCiAgICB9LA0KICAgIHNob3dDaGVja2JveDp7DQogICAgICB0eXBlOkJvb2xlYW4sDQogICAgICBkZWZhdWx0OmZhbHNlDQogICAgfSwNCiAgICBjZWxsU3R5bGU6ew0KICAgICAgdHlwZTpGdW5jdGlvbiwNCiAgICAgIGRlZmF1bHQ6KCk9Pnt9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDliIbpobXkv6Hmga8NCgkJCXBhZ2VSZXF1ZXN0OiB7DQoJCQkJcGFnZU51bTogMSwNCiAgICAgICAgcGFnZVNpemU6IDUwDQogICAgICB9LA0KICAgICAgbG9hZGluZzogZmFsc2UsICAvLyDliqDovb3moIfor4YNCiAgICAgIHNlbGVjdGlvbnM6IFtdLCAgLy8g5YiX6KGo6YCJ5Lit5YiXDQogICAgICBidG5XaWR0aDogMTg1LA0KICAgICAgc2hvd09wZXJhdGlvblNvbjogZmFsc2UNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0QnRuV2lkdGg6IGZ1bmN0aW9uKCl7DQogICAgICBsZXQgc2l6ZSA9IHRoaXMuYnV0dG9ucy5sZW5ndGgNCiAgICAgIGlmKHRoaXMucGVybXNFZGl0KXsNCiAgICAgICAgc2l6ZSsrDQogICAgICB9DQogICAgICBpZih0aGlzLnBlcm1zRGVsZXRlKXsNCiAgICAgICAgc2l6ZSsrDQogICAgICB9DQogICAgICBpZihzaXplID09MCl7DQogICAgICAgIHRoaXMuYnRuV2lkdGggPSAxMDANCiAgICAgIH1lbHNlIGlmKHNpemU9PTEpew0KICAgICAgICB0aGlzLmJ0bldpZHRoID0gMTAwDQogICAgICB9ZWxzZSBpZihzaXplPT0yKXsNCiAgICAgICAgdGhpcy5idG5XaWR0aCA9IDIwMA0KICAgICAgfWVsc2UgaWYoc2l6ZSA+IDIgJiYgc2l6ZSA8PSA0KSB7DQogICAgICAgIHRoaXMuYnRuV2lkdGggPSA0MDANCiAgICAgIH1lbHNlew0KICAgICAgICB0aGlzLmJ0bldpZHRoID0gNTAwDQogICAgICB9DQogICAgfSwNCiAgICAvLyDliIbpobXmn6Xor6INCiAgICBmaW5kUGFnZTogZnVuY3Rpb24gKCkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgIGxldCBjYWxsYmFjayA9IHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgnZmluZFBhZ2UnLCB7cGFnZVJlcXVlc3Q6dGhpcy5wYWdlUmVxdWVzdCwgY2FsbGJhY2s6Y2FsbGJhY2t9KQ0KICAgIH0sDQogICAgLy8g6YCJ5oup5YiH5o2iDQogICAgc2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiAoc2VsZWN0aW9ucykgew0KICAgICAgdGhpcy5zZWxlY3Rpb25zID0gc2VsZWN0aW9ucw0KICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0aW9uQ2hhbmdlJywgc2VsZWN0aW9ucykNCiAgICB9LA0KICAgIC8vIOmAieaLqeWIh+aNog0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUN1cnJlbnRDaGFuZ2UnLCB7dmFsOnZhbH0pDQogICAgfSwNCiAgICAvLyDmjaLpobXliLfmlrANCgkJcmVmcmVzaFBhZ2VSZXF1ZXN0OiBmdW5jdGlvbiAocGFnZU51bSkgew0KICAgICAgdGhpcy5wYWdlUmVxdWVzdC5wYWdlTnVtID0gcGFnZU51bQ0KICAgICAgdGhpcy5maW5kUGFnZSgpDQogICAgfSwNCiAgICAvLyDmk43kvZwNCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gKGluZGV4LCByb3csY2FsbGJhY2spIHsNCiAgICAgIHRoaXMuJGVtaXQoY2FsbGJhY2ssIHtpbmRleDppbmRleCwgcm93OnJvd30pDQogICAgfSwNCiAgICAvLyDnvJbovpENCgkJaGFuZGxlRWRpdDogZnVuY3Rpb24gKGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUVkaXQnLCB7aW5kZXg6aW5kZXgsIHJvdzpyb3d9KQ0KCQl9LA0KICAgIC8vIOWIoOmZpA0KCQloYW5kbGVEZWxldGU6IGZ1bmN0aW9uIChpbmRleCwgcm93KSB7DQogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTor6XorrDlvZXlkJfvvJ8nLCAn5o+Q56S6Jywgew0KICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgIGxldCBjYWxsYmFjayA9IHJlcyA9PiB7DQogICAgICAgICAgaWYocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJywgdHlwZTogJ3N1Y2Nlc3MnfSkNCiAgICAgICAgICAgIHRoaXMuZmluZFBhZ2UoKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAn5pON5L2c5aSx6LSlLCAnICsgcmVzLm1zZywgdHlwZTogJ2Vycm9yJ30pDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlRGVsZXRlJywge3BhcmFtczpyb3csIGNhbGxiYWNrOmNhbGxiYWNrfSkNCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgIH0pDQoJCX0sDQoJCS8vIOaJuemHj+WIoOmZpA0KCQloYW5kbGVCYXRjaERlbGV0ZTogZnVuY3Rpb24gKCkgew0KCQkJbGV0IGlkcyA9IHRoaXMuc2VsZWN0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLmlkKS50b1N0cmluZygpDQoJCQl0aGlzLmRlbGV0ZShpZHMpDQoJCX0sDQoJCS8vIOWIoOmZpOaTjeS9nA0KCQlkZWxldGU6IGZ1bmN0aW9uIChpZHMpIHsNCgkJCXRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOmAieS4reiusOW9leWQl++8nycsICfmj5DnpLonLCB7DQoJCQkJdHlwZTogJ3dhcm5pbmcnDQoJCQl9KS50aGVuKCgpID0+IHsNCgkJCQlsZXQgcGFyYW1zID0gW10NCgkJCQlsZXQgaWRBcnJheSA9IChpZHMrJycpLnNwbGl0KCcsJykNCiAgICAgICAgaWYoaWRBcnJheS5sZW5ndGg+MSl7DQogICAgICAgICAgZm9yKHZhciBpPTA7IGk8aWRBcnJheS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIAlwYXJhbXMucHVzaCh7J2lkJzppZEFycmF5W2ldfSkNCiAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHBhcmFtcz17J2lkJzppZHN9DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgIGxldCBjYWxsYmFjayA9IHJlcyA9PiB7DQogICAgICAgICAgaWYocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJywgdHlwZTogJ3N1Y2Nlc3MnfSkNCiAgICAgICAgICAgIHRoaXMuZmluZFBhZ2UoKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAn5pON5L2c5aSx6LSlLCAnICsgcmVzLm1zZywgdHlwZTogJ2Vycm9yJ30pDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlRGVsZXRlJywge3BhcmFtczpwYXJhbXMsIGNhbGxiYWNrOmNhbGxiYWNrfSkNCgkJCX0pLmNhdGNoKCgpID0+IHsNCgkJCX0pDQoJCX0sDQogICAgZ2V0U3VtKHBhcmFtKXsNCiAgICAgIGNvbnN0IHsgY29sdW1ucywgZGF0YSB9ID0gcGFyYW07DQogICAgICBsZXQgY291bnQgPSB0aGlzLmRhdGEuc3VtDQogICAgICBsZXQgc3VtcyA9IFtdDQogICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sLCBpbmRleCkgew0KICAgICAgICBpZiAoaW5kZXggPT09IDApIHsNCiAgICAgICAgICBzdW1zW2luZGV4XSA9ICflkIjorqEnOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgbGV0IHZhbCA9IGNvdW50W2NvbC5wcm9wZXJ0eV07DQogICAgICAgICAgaWYodmFsICE9bnVsbCApew0KICAgICAgICAgICAgc3Vtc1tpbmRleF0gPSB2YWwNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHN1bXNbaW5kZXhdID0gJy0tJw0KICAgICAgICAgIH0NCg0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIHN1bXM7DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgLy90aGlzLnNob3dPcGVyYXRpb25Tb24gPSB0aGlzLnNob3dPcGVyYXRpb24NCiAgICB0aGlzLnJlZnJlc2hQYWdlUmVxdWVzdCgxKQ0KICB9LA0KICBiZWZvcmVVcGRhdGUoKSB7DQogICAgdGhpcy5pbml0QnRuV2lkdGgoKQ0KICB9DQp9DQo="},{"version":3,"sources":["KtTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"KtTable.vue","sourceRoot":"src/views/Core","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <!--表格栏-->\r\n    <el-table :data=\"data.content\" :highlight-current-row=\"highlightCurrentRow\" @selection-change=\"selectionChange\"\r\n          :show-summary=\"data.sum!=null\" :summary-method=\"getSum\" :cell-style=\"cellStyle\"\r\n          @current-change=\"handleCurrentChange\" v-loading=\"loading\" :element-loading-text=\"$t('action.loading')\" :border=\"border\" :stripe=\"stripe\"\r\n          :show-overflow-tooltip=\"showOverflowTooltip\" :max-height=\"maxHeight\" :size=\"size\" :align=\"align\" style=\"width:100%;\">\r\n     <!--<el-table-column :type=\"showSeqColumn\" width=\"40\" v-if=\"showBatchDelete & showOperation\"></el-table-column>-->\r\n      <slot></slot>\r\n      <el-table-column type=\"selection\" width=\"60\" v-if=\"showCheckbox\"></el-table-column>\r\n     <el-table-column :type=\"showSeqColumn\" label=\"序号\" min-width=\"60\" width=\"60\"></el-table-column>\r\n      <el-table-column v-for=\"column in columns\" header-align=\"center\" align=\"center\"\r\n        :prop=\"column.prop\" :label=\"column.label\" :width=\"column.width\" :min-width=\"column.minWidth\"\r\n        :fixed=\"column.fixed\" :key=\"column.prop\" :type=\"column.type\" :formatter=\"column.formatter\"\r\n        :sortable=\"column.sortable==null?false:column.sortable\" show-overflow-tooltip>\r\n        <template #default=\"scope\" v-if=\"!column.formatter\">\r\n          <slot :name=\"column.prop\" v-bind=\"scope\">\r\n            {{scope.row[column.prop]}}\r\n          </slot>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('action.operation')\" :width=\"btnWidth\"  v-if=\"showOperation\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <kt-button icon=\"fa fa-edit\" :label=\"$t('action.edit')\" :perms=\"permsEdit\" :size=\"size\" @click=\"handleEdit(scope.$index, scope.row)\" />\r\n          <kt-button icon=\"fa fa-trash\" :label=\"$t('action.delete')\" :perms=\"permsDelete\" :size=\"size\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\" />\r\n          <kt-button v-for=\"(btn,index) in buttons\" :key=\"index\" :icon=\"btn.icon\" :label=\"btn.label\" :perms=\"btn.perms\" :size=\"size\" :type=\"btn.type\" @click=\"handleClick(scope.$index, scope.row,btn.callback)\" />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页栏-->\r\n    <div class=\"\" style=\"padding:10px;\">\r\n     <!-- <kt-button :label=\"$t('action.batchDelete')\" :perms=\"permsDelete\" :size=\"size\" type=\"danger\" @click=\"handleBatchDelete()\"\r\n        :disabled=\"this.selections.length===0\" style=\"float:left;\" v-if=\"showBatchDelete & showOperation\"/> -->\r\n      <el-pagination layout=\"total, prev, pager, next, jumper\" @current-change=\"refreshPageRequest\"\r\n        :current-page.sync=\"data.pageNum\" :page-size.sync=\"data.pageSize\" :total=\"data.totalSize\" style=\"float:right;\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KtButton from \"@/views/Core/KtButton\"\r\nexport default {\r\n  name: 'KtTable',\r\n  components:{\r\n\t\t\tKtButton\r\n\t},\r\n  props: {\r\n    columns: Array, // 表格列配置\r\n    data: Object, // 表格分页数据\r\n    permsEdit: String,  // 编辑权限标识\r\n    permsDelete: String,  // 删除权限标识\r\n    buttons: {\r\n      type:Array,\r\n      default:()=>[]\r\n    },\r\n    size: { // 尺寸样式\r\n      type: String,\r\n      default: 'mini'\r\n    },\r\n    align: {  // 文本对齐方式\r\n      type: String,\r\n      default: 'left'\r\n    },\r\n    maxHeight: {  // 表格最大高度\r\n      type: Number,\r\n      default: 700\r\n    },\r\n    showOperation: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    border: {  // 是否显示边框\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    stripe: {  // 是否显示斑马线\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    highlightCurrentRow: {  // // 是否高亮当前行\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showOverflowTooltip: {  // 是否单行显示\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showBatchDelete: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showSeqColumn:{\r\n      type: String,\r\n      default:'index'\r\n    },\r\n    showCheckbox:{\r\n      type:Boolean,\r\n      default:false\r\n    },\r\n    cellStyle:{\r\n      type:Function,\r\n      default:()=>{}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 分页信息\r\n\t\t\tpageRequest: {\r\n\t\t\t\tpageNum: 1,\r\n        pageSize: 50\r\n      },\r\n      loading: false,  // 加载标识\r\n      selections: [],  // 列表选中列\r\n      btnWidth: 185,\r\n      showOperationSon: false\r\n    }\r\n  },\r\n  methods: {\r\n    initBtnWidth: function(){\r\n      let size = this.buttons.length\r\n      if(this.permsEdit){\r\n        size++\r\n      }\r\n      if(this.permsDelete){\r\n        size++\r\n      }\r\n      if(size ==0){\r\n        this.btnWidth = 100\r\n      }else if(size==1){\r\n        this.btnWidth = 100\r\n      }else if(size==2){\r\n        this.btnWidth = 200\r\n      }else if(size > 2 && size <= 4) {\r\n        this.btnWidth = 400\r\n      }else{\r\n        this.btnWidth = 500\r\n      }\r\n    },\r\n    // 分页查询\r\n    findPage: function () {\r\n        this.loading = true\r\n        let callback = res => {\r\n          this.loading = false\r\n        }\r\n      this.$emit('findPage', {pageRequest:this.pageRequest, callback:callback})\r\n    },\r\n    // 选择切换\r\n    selectionChange: function (selections) {\r\n      this.selections = selections\r\n      this.$emit('selectionChange', selections)\r\n    },\r\n    // 选择切换\r\n    handleCurrentChange: function (val) {\r\n      this.$emit('handleCurrentChange', {val:val})\r\n    },\r\n    // 换页刷新\r\n\t\trefreshPageRequest: function (pageNum) {\r\n      this.pageRequest.pageNum = pageNum\r\n      this.findPage()\r\n    },\r\n    // 操作\r\n    handleClick: function (index, row,callback) {\r\n      this.$emit(callback, {index:index, row:row})\r\n    },\r\n    // 编辑\r\n\t\thandleEdit: function (index, row) {\r\n      this.$emit('handleEdit', {index:index, row:row})\r\n\t\t},\r\n    // 删除\r\n\t\thandleDelete: function (index, row) {\r\n      this.$confirm('确认删除该记录吗？', '提示', {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.loading = true\r\n        let callback = res => {\r\n          if(res.code == 200) {\r\n            this.$message({message: '删除成功', type: 'success'})\r\n            this.findPage()\r\n          } else {\r\n            this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n          }\r\n          this.loading = false\r\n        }\r\n        this.$emit('handleDelete', {params:row, callback:callback})\r\n      }).catch(() => {\r\n      })\r\n\t\t},\r\n\t\t// 批量删除\r\n\t\thandleBatchDelete: function () {\r\n\t\t\tlet ids = this.selections.map(item => item.id).toString()\r\n\t\t\tthis.delete(ids)\r\n\t\t},\r\n\t\t// 删除操作\r\n\t\tdelete: function (ids) {\r\n\t\t\tthis.$confirm('确认删除选中记录吗？', '提示', {\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tlet params = []\r\n\t\t\t\tlet idArray = (ids+'').split(',')\r\n        if(idArray.length>1){\r\n          for(var i=0; i<idArray.length; i++) {\r\n          \tparams.push({'id':idArray[i]})\r\n          }\r\n        }else{\r\n          params={'id':ids}\r\n        }\r\n\r\n        this.loading = true\r\n        let callback = res => {\r\n          if(res.code == 200) {\r\n            this.$message({message: '删除成功', type: 'success'})\r\n            this.findPage()\r\n          } else {\r\n            this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n          }\r\n          this.loading = false\r\n        }\r\n        this.$emit('handleDelete', {params:params, callback:callback})\r\n\t\t\t}).catch(() => {\r\n\t\t\t})\r\n\t\t},\r\n    getSum(param){\r\n      const { columns, data } = param;\r\n      let count = this.data.sum\r\n      let sums = []\r\n      columns.forEach(function(col, index) {\r\n        if (index === 0) {\r\n          sums[index] = '合计';\r\n          return;\r\n        }else{\r\n          let val = count[col.property];\r\n          if(val !=null ){\r\n            sums[index] = val\r\n          }else{\r\n            sums[index] = '--'\r\n          }\r\n\r\n        }\r\n      })\r\n      return sums;\r\n    }\r\n  },\r\n  mounted() {\r\n   //this.showOperationSon = this.showOperation\r\n    this.refreshPageRequest(1)\r\n  },\r\n  beforeUpdate() {\r\n    this.initBtnWidth()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}