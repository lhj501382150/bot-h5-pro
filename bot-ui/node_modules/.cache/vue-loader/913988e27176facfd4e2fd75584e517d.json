{"remainingRequest":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-manager\\bot-ui\\src\\views\\Reward\\components\\JlTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-manager\\bot-ui\\src\\views\\Reward\\components\\JlTable.vue","mtime":1703829087684},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgS3RCdXR0b24gZnJvbSAiQC92aWV3cy9Db3JlL0t0QnV0dG9uIg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnSmxUYWJsZScsDQogIGNvbXBvbmVudHM6ew0KCQkJS3RCdXR0b24NCgl9LA0KICBwcm9wczogew0KICAgIGNvbHVtbnM6IEFycmF5LCAvLyDooajmoLzliJfphY3nva4NCiAgICBkYXRhOiBPYmplY3QsIC8vIOihqOagvOWIhumhteaVsOaNrg0KICAgIHBlcm1zRWRpdDogU3RyaW5nLCAgLy8g57yW6L6R5p2D6ZmQ5qCH6K+GDQogICAgcGVybXNEZWxldGU6IFN0cmluZywgIC8vIOWIoOmZpOadg+mZkOagh+ivhg0KICAgIGJhdGNobGFiZWw6IFN0cmluZywgIC8vIOaJuemHj+agh+ivhg0KICAgIGJ1dHRvbnM6IHsNCiAgICAgIHR5cGU6QXJyYXksDQogICAgICBkZWZhdWx0OigpPT5bXQ0KICAgIH0sDQogICAgc2l6ZTogeyAvLyDlsLrlr7jmoLflvI8NCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdtaW5pJw0KICAgIH0sDQogICAgYWxpZ246IHsgIC8vIOaWh+acrOWvuem9kOaWueW8jw0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2xlZnQnDQogICAgfSwNCiAgICBtYXhIZWlnaHQ6IHsgIC8vIOihqOagvOacgOWkp+mrmOW6pg0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogNzAwDQogICAgfSwNCiAgICBzaG93T3BlcmF0aW9uOiB7ICAvLyDmmK/lkKbmmL7npLrmk43kvZznu4Tku7YNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBib3JkZXI6IHsgIC8vIOaYr+WQpuaYvuekuui+ueahhg0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBzdHJpcGU6IHsgIC8vIOaYr+WQpuaYvuekuuaWkemprOe6vw0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGhpZ2hsaWdodEN1cnJlbnRSb3c6IHsgIC8vIC8vIOaYr+WQpumrmOS6ruW9k+WJjeihjA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHNob3dPdmVyZmxvd1Rvb2x0aXA6IHsgIC8vIOaYr+WQpuWNleihjOaYvuekug0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHNob3dCYXRjaDogeyAgLy8g5piv5ZCm5pi+56S65pON5L2c57uE5Lu2DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgc2hvd1NlcUNvbHVtbjp7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OidpbmRleCcNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOWIhumhteS/oeaBrw0KCQkJcGFnZVJlcXVlc3Q6IHsNCgkJCQlwYWdlTnVtOiAxLA0KICAgICAgICBwYWdlU2l6ZTogNTANCiAgICAgIH0sDQogICAgICBsb2FkaW5nOiBmYWxzZSwgIC8vIOWKoOi9veagh+ivhg0KICAgICAgc2VsZWN0aW9uczogW10sICAvLyDliJfooajpgInkuK3liJcNCiAgICAgIGJ0bldpZHRoOiAxODUsDQogICAgICBzaG93T3BlcmF0aW9uU29uOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXRCdG5XaWR0aDogZnVuY3Rpb24oKXsNCg0KICAgIH0sDQogICAgLy8g5YiG6aG15p+l6K+iDQogICAgZmluZFBhZ2U6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICBsZXQgY2FsbGJhY2sgPSByZXMgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoJ2ZpbmRQYWdlJywge3BhZ2VSZXF1ZXN0OnRoaXMucGFnZVJlcXVlc3QsIGNhbGxiYWNrOmNhbGxiYWNrfSkNCiAgICB9LA0KICAgIC8vIOmAieaLqeWIh+aNog0KICAgIHNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gKHNlbGVjdGlvbnMpIHsNCiAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnMNCiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbkNoYW5nZScsIHtzZWxlY3Rpb25zOnNlbGVjdGlvbnN9KQ0KICAgIH0sDQogICAgLy8g6YCJ5oup5YiH5o2iDQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlQ3VycmVudENoYW5nZScsIHt2YWw6dmFsfSkNCiAgICB9LA0KICAgIC8vIOaNoumhteWIt+aWsA0KCQlyZWZyZXNoUGFnZVJlcXVlc3Q6IGZ1bmN0aW9uIChwYWdlTnVtKSB7DQogICAgICB0aGlzLnBhZ2VSZXF1ZXN0LnBhZ2VOdW0gPSBwYWdlTnVtDQogICAgICB0aGlzLmZpbmRQYWdlKCkNCiAgICB9LA0KICAgIC8vIOaTjeS9nA0KICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiAoaW5kZXgsIHJvdyxjYWxsYmFjaykgew0KICAgICAgdGhpcy4kZW1pdChjYWxsYmFjaywgW3Jvd10pDQogICAgfSwNCg0KCQkvLyDmibnph4/mk43kvZwNCgkJaGFuZGxlQmF0Y2g6IGZ1bmN0aW9uICgpIHsNCgkJCWxldCBpZHMgPSB0aGlzLnNlbGVjdGlvbnMNCiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUJhdGNoJywgaWRzKQ0KCQl9LA0KICAgIGdldFN1bShwYXJhbSl7DQogICAgICBjb25zdCB7IGNvbHVtbnMsIGRhdGEgfSA9IHBhcmFtOw0KICAgICAgbGV0IGNvdW50ID0gdGhpcy5kYXRhLnN1bQ0KICAgICAgbGV0IHN1bXMgPSBbXQ0KICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbCwgaW5kZXgpIHsNCiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7DQogICAgICAgICAgc3Vtc1tpbmRleF0gPSAn5ZCI6K6hJzsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIGxldCB2YWwgPSBjb3VudFtjb2wucHJvcGVydHldOw0KICAgICAgICAgIGlmKHZhbCAhPTAgKXsNCiAgICAgICAgICAgIHN1bXNbaW5kZXhdID0gdmFsDQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBzdW1zW2luZGV4XSA9ICctLScNCiAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBzdW1zOw0KICAgIH0NCiAgICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMucmVmcmVzaFBhZ2VSZXF1ZXN0KDEpDQogIH0sDQogIGJlZm9yZVVwZGF0ZSgpIHsNCg0KICB9DQp9DQo="},{"version":3,"sources":["JlTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"JlTable.vue","sourceRoot":"src/views/Reward/components","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <!--表格栏-->\r\n    <el-table :data=\"data.content\" :highlight-current-row=\"highlightCurrentRow\" @selection-change=\"selectionChange\"\r\n              :show-summary=\"data.sum!=null\" :summary-method=\"getSum\"\r\n          @current-change=\"handleCurrentChange\" v-loading=\"loading\" :element-loading-text=\"$t('action.loading')\" :border=\"border\" :stripe=\"stripe\"\r\n          :show-overflow-tooltip=\"showOverflowTooltip\" :max-height=\"maxHeight\" :size=\"size\" :align=\"align\" style=\"width:100%;\">\r\n      <slot></slot>\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n     <el-table-column :type=\"showSeqColumn\" label=\"序号\" min-width=\"60\" width=\"60\"></el-table-column>\r\n      <el-table-column v-for=\"column in columns\" header-align=\"center\" align=\"center\"\r\n        :prop=\"column.prop\" :label=\"column.label\" :width=\"column.width\" :min-width=\"column.minWidth\"\r\n        :fixed=\"column.fixed\" :key=\"column.prop\" :type=\"column.type\" :formatter=\"column.formatter\"\r\n        :sortable=\"column.sortable==null?false:column.sortable\" show-overflow-tooltip>\r\n        <template #default=\"scope\" v-if=\"!column.formatter\">\r\n          <slot :name=\"column.prop\" v-bind=\"scope\">\r\n            {{scope.row[column.prop]}}\r\n          </slot>\r\n        </template>\r\n      </el-table-column>\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('action.operation')\" :width=\"btnWidth\"  v-if=\"showOperation\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <kt-button v-for=\"(btn,index) in buttons\" :key=\"index\" v-show=\"scope.row.status==btn.show || scope.row.pstatus==btn.show\" :icon=\"btn.icon\" :label=\"btn.label\" :perms=\"btn.perms\" :size=\"size\" :type=\"btn.type\" @click=\"handleClick(scope.$index, scope.row,btn.callback)\" />\r\n        </template>\r\n\r\n\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页栏-->\r\n    <div class=\"toolbar\" style=\"padding:10px;\">\r\n      <kt-button :label=\"batchlabel\" :perms=\"permsEdit\" :size=\"size\" type=\"danger\" @click=\"handleBatch()\"\r\n                 :disabled=\"this.selections.length===0\" style=\"float:left;\" v-if=\"showBatch & showOperation\"/>\r\n      <el-pagination layout=\"total, prev, pager, next, jumper\" @current-change=\"refreshPageRequest\"\r\n        :current-page=\"pageRequest.pageNum\" :page-size=\"pageRequest.pageSize\" :total=\"data.totalSize\" style=\"float:right;\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KtButton from \"@/views/Core/KtButton\"\r\nexport default {\r\n  name: 'JlTable',\r\n  components:{\r\n\t\t\tKtButton\r\n\t},\r\n  props: {\r\n    columns: Array, // 表格列配置\r\n    data: Object, // 表格分页数据\r\n    permsEdit: String,  // 编辑权限标识\r\n    permsDelete: String,  // 删除权限标识\r\n    batchlabel: String,  // 批量标识\r\n    buttons: {\r\n      type:Array,\r\n      default:()=>[]\r\n    },\r\n    size: { // 尺寸样式\r\n      type: String,\r\n      default: 'mini'\r\n    },\r\n    align: {  // 文本对齐方式\r\n      type: String,\r\n      default: 'left'\r\n    },\r\n    maxHeight: {  // 表格最大高度\r\n      type: Number,\r\n      default: 700\r\n    },\r\n    showOperation: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    border: {  // 是否显示边框\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    stripe: {  // 是否显示斑马线\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    highlightCurrentRow: {  // // 是否高亮当前行\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showOverflowTooltip: {  // 是否单行显示\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showBatch: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showSeqColumn:{\r\n      type: String,\r\n      default:'index'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 分页信息\r\n\t\t\tpageRequest: {\r\n\t\t\t\tpageNum: 1,\r\n        pageSize: 50\r\n      },\r\n      loading: false,  // 加载标识\r\n      selections: [],  // 列表选中列\r\n      btnWidth: 185,\r\n      showOperationSon: false\r\n    }\r\n  },\r\n  methods: {\r\n    initBtnWidth: function(){\r\n\r\n    },\r\n    // 分页查询\r\n    findPage: function () {\r\n        this.loading = true\r\n        let callback = res => {\r\n          this.loading = false\r\n        }\r\n      this.$emit('findPage', {pageRequest:this.pageRequest, callback:callback})\r\n    },\r\n    // 选择切换\r\n    selectionChange: function (selections) {\r\n      this.selections = selections\r\n      this.$emit('selectionChange', {selections:selections})\r\n    },\r\n    // 选择切换\r\n    handleCurrentChange: function (val) {\r\n      this.$emit('handleCurrentChange', {val:val})\r\n    },\r\n    // 换页刷新\r\n\t\trefreshPageRequest: function (pageNum) {\r\n      this.pageRequest.pageNum = pageNum\r\n      this.findPage()\r\n    },\r\n    // 操作\r\n    handleClick: function (index, row,callback) {\r\n      this.$emit(callback, [row])\r\n    },\r\n\r\n\t\t// 批量操作\r\n\t\thandleBatch: function () {\r\n\t\t\tlet ids = this.selections\r\n      this.$emit('handleBatch', ids)\r\n\t\t},\r\n    getSum(param){\r\n      const { columns, data } = param;\r\n      let count = this.data.sum\r\n      let sums = []\r\n      columns.forEach(function(col, index) {\r\n        if (index === 0) {\r\n          sums[index] = '合计';\r\n          return;\r\n        }else{\r\n          let val = count[col.property];\r\n          if(val !=0 ){\r\n            sums[index] = val\r\n          }else{\r\n            sums[index] = '--'\r\n          }\r\n\r\n        }\r\n      })\r\n      return sums;\r\n    }\r\n    },\r\n  mounted() {\r\n    this.refreshPageRequest(1)\r\n  },\r\n  beforeUpdate() {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}