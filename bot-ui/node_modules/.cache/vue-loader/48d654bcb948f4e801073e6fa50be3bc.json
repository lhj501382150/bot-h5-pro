{"remainingRequest":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-manager\\bot-ui\\src\\views\\Order\\Compents\\Invoic.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-manager\\bot-ui\\src\\views\\Order\\Compents\\Invoic.vue","mtime":1702475008460},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJJbnZvaWMiLA0KICBwcm9wczp7DQogICAgZGF0YUZvcm06IHt9DQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgZWRpdE9wczpmYWxzZSwNCiAgICAgIHNpemU6ICdzbWFsbCcsDQogICAgICBlZGl0TG9hZGluZzogZmFsc2UsDQogICAgICBkYXRhRm9ybVJ1bGVzOnsNCiAgICAgICAgY29udG5vOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiuouWNlee8luWPtycsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIHR5cGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5byA56Wo57G75Z6LJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgaW52b2ljdGl0bGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5Y+R56Wo5oqs5aS05L+h5oGvJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgc3RhdHVzOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+ehruiupOW8gOelqOeKtuaAgScsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIGdldEZvcm1EYXRhKCl7DQogICAgICByZXR1cm4gdGhpcy5kYXRhRm9ybQ0KICAgIH0sDQogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uICgpew0KICAgICAgdGhpcy4kZW1pdCgiY2xvc2VEaWFsb2ciLHt9KTsNCiAgICB9LA0KDQogICAgLy8g57yW6L6RDQogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gKCkgew0KICAgICAgaWYoIXRoaXMuZGF0YUZvcm0uY29udG5vKXsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pyq6I635Y+W5ZCI5ZCM57yW5Y+3IikNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLiRyZWZzLmRhdGFGb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5o+Q5Lqk5ZCX77yfJywgJ+aPkOekuicsIHt9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5lZGl0TG9hZGluZyA9IHRydWUNCiAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IHRoaXMuZGF0YUZvcm0NCiAgICAgICAgICAgICAgdGhpcy4kYXBpLmNvbnRyYWN0LmVkaXRJbnZvaWMocGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfJywgdHlwZTogJ3N1Y2Nlc3MnIH0pDQogICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZURpYWxvZyIse30pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAn5pON5L2c5aSx6LSlLCAnICsgcmVzLm1zZywgdHlwZTogJ2Vycm9yJ30pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQoNCiAgfQ0KfQ0K"},{"version":3,"sources":["Invoic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Invoic.vue","sourceRoot":"src/views/Order/Compents","sourcesContent":["<template>\r\n  <div>\r\n    <el-form :model=\"dataForm\" label-width=\"120px\" :rules=\"dataFormRules\" ref=\"dataForm\" size=\"small\" label-position=\"right\">\r\n      <el-form-item label=\"\"  >\r\n        <el-switch v-model=\"editOps\" active-color=\"#13ce66\" active-text=\"编辑\" inactive-text=\"查看\"> </el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"订单编号\" prop=\"contno\" >\r\n        <el-input v-model=\"dataForm.contno\" :disabled=\"true\" auto-complete=\"off\" maxlength=\"16\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"客户编号\" prop=\"userno\" >\r\n        <el-input v-model=\"dataForm.userno\" :disabled=\"true\" auto-complete=\"off\" maxlength=\"16\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"类型\" prop=\"type\" >\r\n        <el-select v-model=\"dataForm.type\" :disabled=\"!editOps\" placeholder=\"开票类型\" style=\"width: 100%;\">\r\n          <el-option label=\"个人\" value=\"1\"></el-option>\r\n          <el-option label=\"单位\" value=\"2\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"发票抬头信息\" prop=\"invoictitle\" >\r\n        <el-input v-model=\"dataForm.invoictitle\" :disabled=\"!editOps\" maxlength=\"16\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"单位税号\" v-if=\"dataForm.type==2\" prop=\"dutyno\" >\r\n        <el-input v-model=\"dataForm.dutyno\" :disabled=\"!editOps\" maxlength=\"32\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"注册地址\" prop=\"regaddr\" >\r\n        <el-input v-model=\"dataForm.regaddr\" :disabled=\"!editOps\" maxlength=\"16\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"注册电话\" prop=\"regtelno\" >\r\n        <el-input v-model=\"dataForm.regtelno\" :disabled=\"!editOps\" maxlength=\"16\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"开户银行\" prop=\"openbank\" >\r\n        <el-input v-model=\"dataForm.openbank\" :disabled=\"!editOps\" maxlength=\"64\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"银行账号\" prop=\"bankno\" >\r\n        <el-input v-model=\"dataForm.bankno\" :disabled=\"!editOps\" maxlength=\"64\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"开票状态\" prop=\"status\" >\r\n        <el-select v-model=\"dataForm.status\" :disabled=\"!editOps\" placeholder=\"开票状态\" style=\"width: 100%;\">\r\n          <el-option label=\"未开\" value=\"0\"></el-option>\r\n          <el-option label=\"已开\" value=\"1\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button :size=\"size\" @click.native=\"closeDialog\">{{$t('action.cancel')}}</el-button>\r\n      <el-button :size=\"size\" type=\"primary\" :disabled=\"!editOps\" @click.native=\"submitForm\" :loading=\"editLoading\">{{$t('action.submit')}}</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Invoic\",\r\n  props:{\r\n    dataForm: {}\r\n  },\r\n  data(){\r\n    return {\r\n      editOps:false,\r\n      size: 'small',\r\n      editLoading: false,\r\n      dataFormRules:{\r\n        contno: [\r\n          { required: true, message: '请输入订单编号', trigger: 'blur' }\r\n        ],\r\n        type: [\r\n          { required: true, message: '请选择开票类型', trigger: 'blur' }\r\n        ],\r\n        invoictitle: [\r\n          { required: true, message: '请输入发票抬头信息', trigger: 'blur' }\r\n        ],\r\n        status: [\r\n          { required: true, message: '请确认开票状态', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    getFormData(){\r\n      return this.dataForm\r\n    },\r\n    closeDialog: function (){\r\n      this.$emit(\"closeDialog\",{});\r\n    },\r\n\r\n    // 编辑\r\n    submitForm: function () {\r\n      if(!this.dataForm.contno){\r\n        this.$message.error(\"未获取合同编号\")\r\n        return\r\n      }\r\n      this.$refs.dataForm.validate((valid) => {\r\n          if (valid) {\r\n            this.$confirm('确认提交吗？', '提示', {}).then(() => {\r\n              this.editLoading = true\r\n              let params = this.dataForm\r\n              this.$api.contract.editInvoic(params).then((res) => {\r\n                this.editLoading = false\r\n                if(res.code == 200) {\r\n                  this.$message({ message: '操作成功', type: 'success' })\r\n                  this.$emit(\"closeDialog\",{});\r\n                } else {\r\n                  this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n                }\r\n              })\r\n\r\n            })\r\n          }\r\n      })\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}