{"remainingRequest":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Core\\FirmChoose.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Core\\FirmChoose.vue","mtime":1713590721768},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQpuYW1lOiAiRmlybUNob29zZSIsDQpwcm9wczogew0KDQp9LA0KZGF0YSgpew0KICByZXR1cm4gew0KICAgIGZpcm1EYXRhOnt9LA0KICAgIHNlbGVjdGlvbnM6W10sDQogICAgZmlybVBhZ2U6e3BhZ2VOdW06IDEsIHBhZ2VTaXplOiAxMDB9LA0KICAgIGZpcm1Mb2FkaW5nOiBmYWxzZSwNCiAgICBmaXJtRGlhbG9nVmlzaWJsZTpmYWxzZQ0KICB9DQp9LA0KICBtZXRob2RzOnsNCiAgICByZWZyZXNoUGFnZUZpcm0ocGFnZU51bSl7DQogICAgICAgIHRoaXMuZmlybVBhZ2UucGFnZU51bSA9IHBhZ2VOdW0NCiAgICAgICAgdGhpcy5maW5kRmlybSgpDQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLmRhdGFGb3JtLnVzZXJubyA9ICcnDQogICAgICB0aGlzLnNlbGVjdGlvbnMgPSB2YWwNCiAgICAgdGhpcy5kYXRhRm9ybS51c2Vybm8gPSAgdmFsLm1hcChpdGVtID0+IHsNCiAgICAgICAgcmV0dXJuIGl0ZW0udXNlcm5vDQogICAgICB9KS5qb2luKCcsJykNCiAgICB9LA0KICAgIGZpbmRGaXJtKCl7DQogICAgICB0aGlzLmZpcm1Mb2FkaW5nID0gdHJ1ZQ0KICAgICAgdGhpcy5maXJtRGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgIGxldCBwYXJhID0gdGhpcy5maXJtUGFnZQ0KCQkJbGV0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZmlybSkNCiAgICAgIHBhcmFtc1sndXNlcm5hbWVAbGlrZSddID0gdGhpcy5maXJtLnVzZXJuYW1lDQogICAgICBwYXJhbXNbJ3JlZ2RhdGVAZ2UnXSA9IHRoaXMuZmlybS5mZGF0ZSA9PSBudWxsID8gJycgOiB0aGlzLmZpcm0uZmRhdGVbMF0sDQogICAgICBwYXJhbXNbJ3JlZ2RhdGVAbGUnXSA9IHRoaXMuZmlybS5mZGF0ZSA9PSBudWxsID8gJycgOiB0aGlzLmZpcm0uZmRhdGVbMV0sDQogICAgICBkZWxldGUgcGFyYW1zLnVzZXJuYW1lDQogICAgICBkZWxldGUgcGFyYW1zLmZkYXRlDQogICAgICBwYXJhLnBhcmFtcyA9IHBhcmFtcw0KCQkJdGhpcy4kYXBpLmZpcm0uZmluZFBhZ2UocGFyYSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMuZmlybUxvYWRpbmcgPSBmYWxzZQ0KCQkJCXRoaXMuZmlybURhdGEgPSByZXMuZGF0YQ0KCQkJfSkNCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["FirmChoose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FirmChoose.vue","sourceRoot":"src/views/Core","sourcesContent":["<template>\r\n <el-dialog title=\"客户列表\" width=\"80%\" :visible.sync=\"firmDialogVisible\" :close-on-click-modal=\"false\" :destroy-on-close=\"true\" v-dialogDrag >\r\n    <div>\r\n      <el-form :inline=\"true\" :model=\"firm\" :size=\"size\">\r\n        <el-form-item>\r\n        <el-date-picker\r\n          v-model=\"firm.fdate\"\r\n          type=\"datetimerange\"\r\n          align=\"right\"\r\n          unlink-panels\r\n          range-separator=\"至\"\r\n          start-placeholder=\"注册开始日期\"\r\n          end-placeholder=\"注册结束日期\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n        </el-date-picker>\r\n\t\t\t</el-form-item>\r\n        <el-form-item>\r\n          <el-input v-model=\"firm.userno\" placeholder=\"客户编号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-input v-model=\"firm.username\" placeholder=\"客户名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-input v-model=\"firm.parentno\" placeholder=\"所属代理\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-input v-model=\"firm.tjno\" placeholder=\"推荐人编号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <kt-button icon=\"fa fa-search\" :label=\"$t('action.search')\" perms=\"spread:activeInfo:view\" type=\"primary\" @click=\"findFirm(null)\"/>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n      <el-table :data=\"firmData.content\" style=\"width: 100%\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\" :loading=\"firmLoading\" max-height=\"400px\">\r\n        <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\r\n        <el-table-column prop=\"userno\" label=\"客户编号\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"username\" label=\"客户名称\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"regdate\" label=\"注册时间\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"parentno\" label=\"所属代理\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"tjno\" label=\"推荐人\" width=\"180\"></el-table-column>\r\n      </el-table>\r\n      <el-pagination layout=\"total, prev, pager, next, jumper\" @current-change=\"refreshPageFirm\"\r\n        :current-page.sync=\"firmData.pageNum\" :page-size.sync=\"firmData.pageSize\" :total=\"firmData.totalSize\" style=\"float:right;\">\r\n      </el-pagination>\r\n\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button :size=\"size\" @click.native=\"firmDialogVisible = false\">确定</el-button>\r\n\t\t</div>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\nname: \"FirmChoose\",\r\nprops: {\r\n\r\n},\r\ndata(){\r\n  return {\r\n    firmData:{},\r\n    selections:[],\r\n    firmPage:{pageNum: 1, pageSize: 100},\r\n    firmLoading: false,\r\n    firmDialogVisible:false\r\n  }\r\n},\r\n  methods:{\r\n    refreshPageFirm(pageNum){\r\n        this.firmPage.pageNum = pageNum\r\n        this.findFirm()\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.dataForm.userno = ''\r\n      this.selections = val\r\n     this.dataForm.userno =  val.map(item => {\r\n        return item.userno\r\n      }).join(',')\r\n    },\r\n    findFirm(){\r\n      this.firmLoading = true\r\n      this.firmDialogVisible = true\r\n      let para = this.firmPage\r\n\t\t\tlet params = Object.assign({}, this.firm)\r\n      params['username@like'] = this.firm.username\r\n      params['regdate@ge'] = this.firm.fdate == null ? '' : this.firm.fdate[0],\r\n      params['regdate@le'] = this.firm.fdate == null ? '' : this.firm.fdate[1],\r\n      delete params.username\r\n      delete params.fdate\r\n      para.params = params\r\n\t\t\tthis.$api.firm.findPage(para).then((res) => {\r\n        this.firmLoading = false\r\n\t\t\t\tthis.firmData = res.data\r\n\t\t\t})\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}