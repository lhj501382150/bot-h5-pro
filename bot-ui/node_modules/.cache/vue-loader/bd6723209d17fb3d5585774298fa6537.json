{"remainingRequest":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\soft\\workspace\\bot-manager\\bot-ui\\src\\views\\Core\\ExTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\src\\views\\Core\\ExTable.vue","mtime":1702475008424},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\soft\\workspace\\bot-manager\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgS3RCdXR0b24gZnJvbSAiQC92aWV3cy9Db3JlL0t0QnV0dG9uIg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnS3RUYWJsZScsDQogIGNvbXBvbmVudHM6ew0KCQkJS3RCdXR0b24NCgl9LA0KICBwcm9wczogew0KICAgIGNvbHVtbnM6IEFycmF5LCAvLyDooajmoLzliJfphY3nva4NCiAgICBkYXRhOiBPYmplY3QsIC8vIOihqOagvOWIhumhteaVsOaNrg0KICAgIHBlcm1zRWRpdDogU3RyaW5nLCAgLy8g57yW6L6R5p2D6ZmQ5qCH6K+GDQogICAgcGVybXNEZWxldGU6IFN0cmluZywgIC8vIOWIoOmZpOadg+mZkOagh+ivhg0KICAgIHNpemU6IHsgLy8g5bC65a+45qC35byPDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnbWluaScNCiAgICB9LA0KICAgIGFsaWduOiB7ICAvLyDmlofmnKzlr7npvZDmlrnlvI8NCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdsZWZ0Jw0KICAgIH0sDQogICAgbWF4SGVpZ2h0OiB7ICAvLyDooajmoLzmnIDlpKfpq5jluqYNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDQ0MA0KICAgIH0sDQogICAgc2hvd09wZXJhdGlvbjogeyAgLy8g5piv5ZCm5pi+56S65pON5L2c57uE5Lu2DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgYm9yZGVyOiB7ICAvLyDmmK/lkKbmmL7npLrovrnmoYYNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgc3RyaXBlOiB7ICAvLyDmmK/lkKbmmL7npLrmlpHpqaznur8NCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBoaWdobGlnaHRDdXJyZW50Um93OiB7ICAvLyAvLyDmmK/lkKbpq5jkuq7lvZPliY3ooYwNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBzaG93T3ZlcmZsb3dUb29sdGlwOiB7ICAvLyDmmK/lkKbljZXooYzmmL7npLoNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBzaG93QmF0Y2hEZWxldGU6IHsgIC8vIOaYr+WQpuaYvuekuuaTjeS9nOe7hOS7tg0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOWIhumhteS/oeaBrw0KCQkJcGFnZVJlcXVlc3Q6IHsNCgkJCQlwYWdlTnVtOiAxLA0KICAgICAgICBwYWdlU2l6ZTogOQ0KICAgICAgfSwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAgLy8g5Yqg6L295qCH6K+GDQogICAgICBzZWxlY3Rpb25zOiBbXSAgLy8g5YiX6KGo6YCJ5Lit5YiXDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g5YiG6aG15p+l6K+iDQogICAgZmluZFBhZ2U6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICBsZXQgY2FsbGJhY2sgPSByZXMgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoJ2ZpbmRQYWdlJywge3BhZ2VSZXF1ZXN0OnRoaXMucGFnZVJlcXVlc3QsIGNhbGxiYWNrOmNhbGxiYWNrfSkNCiAgICB9LA0KICAgIC8vIOmAieaLqeWIh+aNog0KICAgIHNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gKHNlbGVjdGlvbnMpIHsNCiAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnMNCiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbkNoYW5nZScsIHtzZWxlY3Rpb25zOnNlbGVjdGlvbnN9KQ0KICAgIH0sDQogICAgLy8g6YCJ5oup5YiH5o2iDQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlQ3VycmVudENoYW5nZScsIHt2YWw6dmFsfSkNCiAgICB9LA0KICAgIC8vIOaNoumhteWIt+aWsA0KCQlyZWZyZXNoUGFnZVJlcXVlc3Q6IGZ1bmN0aW9uIChwYWdlTnVtKSB7DQogICAgICB0aGlzLnBhZ2VSZXF1ZXN0LnBhZ2VOdW0gPSBwYWdlTnVtDQogICAgICB0aGlzLmZpbmRQYWdlKCkNCiAgICB9LA0KICAgIC8vIOe8lui+kQ0KCQloYW5kbGVFZGl0OiBmdW5jdGlvbiAoaW5kZXgsIHJvdykgew0KICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlRWRpdCcsIHtpbmRleDppbmRleCwgcm93OnJvd30pDQoJCX0sDQogICAgLy8g5Yig6ZmkDQoJCWhhbmRsZURlbGV0ZTogZnVuY3Rpb24gKGluZGV4LCByb3cpIHsNCgkJCXRoaXMuZGVsZXRlKHJvdy5pZCkNCgkJfSwNCgkJLy8g5om56YeP5Yig6ZmkDQoJCWhhbmRsZUJhdGNoRGVsZXRlOiBmdW5jdGlvbiAoKSB7DQoJCQlsZXQgaWRzID0gdGhpcy5zZWxlY3Rpb25zLm1hcChpdGVtID0+IGl0ZW0uaWQpLnRvU3RyaW5nKCkNCgkJCXRoaXMuZGVsZXRlKGlkcykNCgkJfSwNCgkJLy8g5Yig6Zmk5pON5L2cDQoJCWRlbGV0ZTogZnVuY3Rpb24gKGlkcykgew0KCQkJdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk6YCJ5Lit6K6w5b2V5ZCX77yfJywgJ+aPkOekuicsIHsNCgkJCQl0eXBlOiAnd2FybmluZycNCgkJCX0pLnRoZW4oKCkgPT4gew0KCQkJCWxldCBwYXJhbXMgPSBbXQ0KCQkJCWxldCBpZEFycmF5ID0gKGlkcysnJykuc3BsaXQoJywnKQ0KICAgICAgICBpZihpZEFycmF5Lmxlbmd0aD4xKXsNCiAgICAgICAgICBmb3IodmFyIGk9MDsgaTxpZEFycmF5Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgCXBhcmFtcy5wdXNoKHsnaWQnOmlkQXJyYXlbaV19KQ0KICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgcGFyYW1zPXsnaWQnOmlkc30NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgbGV0IGNhbGxiYWNrID0gcmVzID0+IHsNCiAgICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICfliKDpmaTmiJDlip8nLCB0eXBlOiAnc3VjY2Vzcyd9KQ0KICAgICAgICAgICAgdGhpcy5maW5kUGFnZSgpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICfmk43kvZzlpLHotKUsICcgKyByZXMubXNnLCB0eXBlOiAnZXJyb3InfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRlbWl0KCdoYW5kbGVEZWxldGUnLCB7cGFyYW1zOnBhcmFtcywgY2FsbGJhY2s6Y2FsbGJhY2t9KQ0KCQkJfSkuY2F0Y2goKCkgPT4gew0KCQkJfSkNCgkJfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMucmVmcmVzaFBhZ2VSZXF1ZXN0KDEpDQogIH0NCn0NCg=="},{"version":3,"sources":["ExTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExTable.vue","sourceRoot":"src/views/Core","sourcesContent":["<template>\r\n  <div>\r\n    <!--表格栏-->\r\n    <el-table :data=\"data.content\" :highlight-current-row=\"highlightCurrentRow\" @selection-change=\"selectionChange\"\r\n          @current-change=\"handleCurrentChange\" v-loading=\"loading\" :element-loading-text=\"$t('action.loading')\" :border=\"border\" :stripe=\"stripe\"\r\n          :show-overflow-tooltip=\"showOverflowTooltip\" :max-height=\"maxHeight\" :size=\"size\" :align=\"align\" style=\"width:100%;\" >\r\n<!--      <el-table-column type=\"selection\" width=\"40\" v-if=\"showBatchDelete & showOperation\"></el-table-column> -->\r\n      <el-table-column type=\"expand\">\r\n           <template slot-scope=\"props\">\r\n               <el-tag type=\"success\" v-for=\"loss in props.row.loss\" :key=\"loss.id\" class=\"el-tag\">{{loss.wareName}} <div class=\"el-tag-num\">{{loss.lossNum}}</div>{{loss.unit}}</el-tag>\r\n           </template>\r\n         </el-table-column>\r\n\r\n      <el-table-column v-for=\"column in columns\" header-align=\"center\" align=\"center\"\r\n        :prop=\"column.prop\" :label=\"column.label\" :width=\"column.width\" :min-width=\"column.minWidth\"\r\n        :fixed=\"column.fixed\" :key=\"column.prop\" :type=\"column.type\" :formatter=\"column.formatter\"\r\n        :sortable=\"column.sortable==null?true:column.sortable\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('action.operation')\" width=\"185\" fixed=\"right\" v-if=\"showOperation\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <kt-button icon=\"fa fa-edit\" :label=\"$t('action.edit')\" :perms=\"permsEdit\" :size=\"size\" @click=\"handleEdit(scope.$index, scope.row)\" />\r\n          <kt-button icon=\"fa fa-trash\" :label=\"$t('action.delete')\" :perms=\"permsDelete\" :size=\"size\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\" />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页栏-->\r\n    <div class=\"toolbar\" style=\"padding:10px;\">\r\n     <!-- <kt-button :label=\"$t('action.batchDelete')\" :perms=\"permsDelete\" :size=\"size\" type=\"danger\" @click=\"handleBatchDelete()\"\r\n        :disabled=\"this.selections.length===0\" style=\"float:left;\" v-if=\"showBatchDelete & showOperation\"/> -->\r\n      <el-pagination layout=\"total, prev, pager, next, jumper\" @current-change=\"refreshPageRequest\"\r\n        :current-page=\"pageRequest.pageNum\" :page-size=\"pageRequest.pageSize\" :total=\"data.totalSize\" style=\"float:right;\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KtButton from \"@/views/Core/KtButton\"\r\nexport default {\r\n  name: 'KtTable',\r\n  components:{\r\n\t\t\tKtButton\r\n\t},\r\n  props: {\r\n    columns: Array, // 表格列配置\r\n    data: Object, // 表格分页数据\r\n    permsEdit: String,  // 编辑权限标识\r\n    permsDelete: String,  // 删除权限标识\r\n    size: { // 尺寸样式\r\n      type: String,\r\n      default: 'mini'\r\n    },\r\n    align: {  // 文本对齐方式\r\n      type: String,\r\n      default: 'left'\r\n    },\r\n    maxHeight: {  // 表格最大高度\r\n      type: Number,\r\n      default: 440\r\n    },\r\n    showOperation: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    border: {  // 是否显示边框\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    stripe: {  // 是否显示斑马线\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    highlightCurrentRow: {  // // 是否高亮当前行\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showOverflowTooltip: {  // 是否单行显示\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showBatchDelete: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 分页信息\r\n\t\t\tpageRequest: {\r\n\t\t\t\tpageNum: 1,\r\n        pageSize: 9\r\n      },\r\n      loading: false,  // 加载标识\r\n      selections: []  // 列表选中列\r\n    }\r\n  },\r\n  methods: {\r\n    // 分页查询\r\n    findPage: function () {\r\n        this.loading = true\r\n        let callback = res => {\r\n          this.loading = false\r\n        }\r\n      this.$emit('findPage', {pageRequest:this.pageRequest, callback:callback})\r\n    },\r\n    // 选择切换\r\n    selectionChange: function (selections) {\r\n      this.selections = selections\r\n      this.$emit('selectionChange', {selections:selections})\r\n    },\r\n    // 选择切换\r\n    handleCurrentChange: function (val) {\r\n      this.$emit('handleCurrentChange', {val:val})\r\n    },\r\n    // 换页刷新\r\n\t\trefreshPageRequest: function (pageNum) {\r\n      this.pageRequest.pageNum = pageNum\r\n      this.findPage()\r\n    },\r\n    // 编辑\r\n\t\thandleEdit: function (index, row) {\r\n      this.$emit('handleEdit', {index:index, row:row})\r\n\t\t},\r\n    // 删除\r\n\t\thandleDelete: function (index, row) {\r\n\t\t\tthis.delete(row.id)\r\n\t\t},\r\n\t\t// 批量删除\r\n\t\thandleBatchDelete: function () {\r\n\t\t\tlet ids = this.selections.map(item => item.id).toString()\r\n\t\t\tthis.delete(ids)\r\n\t\t},\r\n\t\t// 删除操作\r\n\t\tdelete: function (ids) {\r\n\t\t\tthis.$confirm('确认删除选中记录吗？', '提示', {\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tlet params = []\r\n\t\t\t\tlet idArray = (ids+'').split(',')\r\n        if(idArray.length>1){\r\n          for(var i=0; i<idArray.length; i++) {\r\n          \tparams.push({'id':idArray[i]})\r\n          }\r\n        }else{\r\n          params={'id':ids}\r\n        }\r\n\r\n        this.loading = true\r\n        let callback = res => {\r\n          if(res.code == 200) {\r\n            this.$message({message: '删除成功', type: 'success'})\r\n            this.findPage()\r\n          } else {\r\n            this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n          }\r\n          this.loading = false\r\n        }\r\n        this.$emit('handleDelete', {params:params, callback:callback})\r\n\t\t\t}).catch(() => {\r\n\t\t\t})\r\n\t\t}\r\n  },\r\n  mounted() {\r\n    this.refreshPageRequest(1)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .el-tag{\r\n    margin-left:10px;\r\n    height:35px;\r\n  }\r\n  .el-tag-num{\r\n    color: #FA8072;\r\n    font-size: 18px;\r\n    display: inline-flex;\r\n    padding-left: 10px;\r\n    padding-right:10px;\r\n  }\r\n</style>\r\n"]}]}