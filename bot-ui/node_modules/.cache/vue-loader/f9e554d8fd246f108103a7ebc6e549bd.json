{"remainingRequest":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Sys\\H5log.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Sys\\H5log.vue","mtime":1723024822202},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgS3RUYWJsZSBmcm9tICJAL3ZpZXdzL0NvcmUvS3RUYWJsZSINCmltcG9ydCBLdEJ1dHRvbiBmcm9tICJAL3ZpZXdzL0NvcmUvS3RCdXR0b24iDQppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICJAL3V0aWxzL2RhdGV0aW1lIg0KZXhwb3J0IGRlZmF1bHQgew0KCWNvbXBvbmVudHM6IHsNCgkJS3RUYWJsZSwNCgkJS3RCdXR0b24NCgl9LA0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQoJCQlzaXplOiAnc21hbGwnLA0KCQkJZmlsdGVyczogew0KCQkJCWZkYXRlOltdLA0KCQkJCWFjY291bnQ6ICcnLA0KCQkJCXJlcXVlc3RVcmw6ICcnLA0KCQkJCWJvZHk6JycNCg0KCQkJfSwNCgkJCWNvbHVtbnM6IFsNCgkJCQl7cHJvcDoibG9nTm8iLCBsYWJlbDoiSUQiLCBtaW5XaWR0aDo2MH0sDQoJCQkJe3Byb3A6ImFjY291bnQiLCBsYWJlbDoi5pON5L2c55So5oi3IiwgbWluV2lkdGg6MTAwfSwNCgkJCQl7cHJvcDoicmVxdWVzdFVybCIsIGxhYmVsOiLmlrnms5UiLCBtaW5XaWR0aDoxODB9LA0KCQkJCXtwcm9wOiJodHRwVHlwZSIsIGxhYmVsOiJJUOWcsOWdgCIsIG1pbldpZHRoOjE1MH0sDQoJCQkJe3Byb3A6ImJvZHkiLCBsYWJlbDoi5Y+C5pWwIiwgbWluV2lkdGg6MjIwfSwNCgkJCQl7cHJvcDoicmVzcG9uc2VCb2R5IiwgbGFiZWw6IuWPjemmiOaVsOaNriIsIG1pbldpZHRoOjEyMH0sDQoJCQkJe3Byb3A6ImVsYXBzZWRUaW1lIiwgbGFiZWw6IuiAl+aXtiIsIG1pbldpZHRoOjgwfSwNCgkJCQl7cHJvcDoic3RhcnRUaW1lIiwgbGFiZWw6IuW8gOWni+aXtumXtCIsIG1pbldpZHRoOjE2MH0sDQoJCQkJe3Byb3A6ImVuZFRpbWUiLCBsYWJlbDoi57uT5p2f5pe26Ze0IiwgbWluV2lkdGg6MTYwfQ0KCQkJXSwNCgkJCXBhZ2VSZXF1ZXN0OiB7IHBhZ2VOdW06IDEsIHBhZ2VTaXplOiA1MCB9LA0KCQkJcGFnZVJlc3VsdDoge30sDQoJCQlzaG93T3BlcmF0aW9uOmZhbHNlDQoJCX0NCgl9LA0KCW1ldGhvZHM6IHsNCgkJLy8g6I635Y+W5YiG6aG15pWw5o2uDQoJCWZpbmRQYWdlOiBmdW5jdGlvbiAoZGF0YSkgew0KCQkJaWYoZGF0YSAhPT0gbnVsbCkgew0KCQkJCXRoaXMucGFnZVJlcXVlc3QgPSBkYXRhLnBhZ2VSZXF1ZXN0DQoJCQl9ZWxzZXsNCgkJCQl0aGlzLnBhZ2VSZXF1ZXN0ID0ge3BhZ2VOdW06IDEsIHBhZ2VTaXplOiA1MH0NCgkJCX0NCgkJCXRoaXMucGFnZVJlcXVlc3QucGFyYW1zID0gew0KCQkJCSdzdGFydFRpbWVAZ2UnOnRoaXMuZmlsdGVycy5mZGF0ZSA9PSBudWxsID8gJycgOiB0aGlzLmZpbHRlcnMuZmRhdGVbMF0sDQogICAgICAgIAkJJ3N0YXJ0VGltZUBsZSc6dGhpcy5maWx0ZXJzLmZkYXRlID09IG51bGwgPyAnJyA6IHRoaXMuZmlsdGVycy5mZGF0ZVsxXSwNCgkJCQknYWNjb3VudEBsaWtlJzp0aGlzLmZpbHRlcnMuYWNjb3VudC50cmltKCksDQoJCQkJJ3JlcXVlc3RVcmxAbGlrZSc6dGhpcy5maWx0ZXJzLnJlcXVlc3RVcmwsDQoJCQkJJ2JvZHlAbGlrZSc6dGhpcy5maWx0ZXJzLmJvZHkNCgkJCX0NCgkJCXRoaXMuJGFwaS5oNWxvZy5maW5kUGFnZSh0aGlzLnBhZ2VSZXF1ZXN0KS50aGVuKChyZXMpID0+IHsNCgkJCQlsZXQgZGF0YXMgPSByZXMuZGF0YQ0KCQkJCWlmKGRhdGFzLmNvbnRlbnQgJiYgZGF0YXMuY29udGVudC5sZW5ndGggPiAwKXsNCgkJCQkJZGF0YXMuY29udGVudC5mb3JFYWNoKGl0ZW0gPT4gew0KCQkJCQkJdHJ5IHsNCgkJCQkJCQlpZihpdGVtLmJvZHkpew0KCQkJCQkJCQlpdGVtLmluUGFyYSA9IEpTT04ucGFyc2UoaXRlbS5ib2R5KQ0KCQkJCQkJCX0NCgkJCQkJCQlpZihpdGVtLnJlc3BvbnNlQm9keSl7DQoJCQkJCQkJCWl0ZW0ub3V0UGFyYSA9IEpTT04ucGFyc2UoaXRlbS5yZXNwb25zZUJvZHkpDQoJCQkJCQkJfQ0KCQkJCQkJfSBjYXRjaCAoZXJyb3IpIHsNCgkJCQkJCQkNCgkJCQkJCX0NCgkJCQkJfSk7DQoJCQkJfQ0KCQkJCXRoaXMucGFnZVJlc3VsdCA9IGRhdGFzDQoJCQl9KS50aGVuKGRhdGEhPW51bGw/ZGF0YS5jYWxsYmFjazonJykNCgkJfSwNCgkJLy8g5pe26Ze05qC85byP5YyWDQoJCWRhdGVGb3JtYXQ6IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCl7DQoJCQlyZXR1cm4gZm9ybWF0KHJvd1tjb2x1bW4ucHJvcGVydHldKQ0KCQl9DQoJfSwNCgltb3VudGVkKCkgew0KCX0NCn0NCg=="},{"version":3,"sources":["H5log.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"H5log.vue","sourceRoot":"src/views/Sys","sourcesContent":["<template>\r\n  <div class=\"page-container\">\r\n\t<!--工具栏-->\r\n\t<div class=\"toolbar\" style=\"float:left;padding-top:10px;padding-left:15px;\">\r\n\t\t<el-form :inline=\"true\" :model=\"filters\" :size=\"size\">\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\tv-model=\"filters.fdate\"\r\n\t\t\t\t\ttype=\"datetimerange\"\r\n\t\t\t\t\talign=\"right\"\r\n\t\t\t\t\tunlink-panels\r\n\t\t\t\t\trange-separator=\"至\"\r\n\t\t\t\t\tstart-placeholder=\"开始时间\"\r\n\t\t\t\t\tend-placeholder=\"结束时间\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\">\r\n\t\t\t\t</el-date-picker>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-input v-model=\"filters.account\" placeholder=\"操作用户\"></el-input>\r\n\t\t\t</el-form-item>\r\n      <el-form-item>\r\n        <el-input v-model=\"filters.requestUrl\" placeholder=\"操作方法\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-input v-model=\"filters.body\" placeholder=\"参数信息\"></el-input>\r\n      </el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<kt-button icon=\"fa fa-search\" :label=\"$t('action.search')\" perms=\"sys:h5log:view\" type=\"primary\" @click=\"findPage(null)\"/>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n\t<!--表格内容栏-->\r\n\t<kt-table  :data=\"pageResult\" :columns=\"columns\" :showOperation=\"showOperation\" @findPage=\"findPage\">\r\n\t\t<template #responseBody=\"scope\">\r\n\t\t\t<el-tag type=\"success\" v-if=\"scope.row.outPara.iCode==0\">成功</el-tag>\r\n\t\t\t<el-tag type=\"danger\" v-else>{{ scope.row.outPara.sMsg }}</el-tag>\r\n\t\t</template>\r\n\t</kt-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KtTable from \"@/views/Core/KtTable\"\r\nimport KtButton from \"@/views/Core/KtButton\"\r\nimport { format } from \"@/utils/datetime\"\r\nexport default {\r\n\tcomponents: {\r\n\t\tKtTable,\r\n\t\tKtButton\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsize: 'small',\r\n\t\t\tfilters: {\r\n\t\t\t\tfdate:[],\r\n\t\t\t\taccount: '',\r\n\t\t\t\trequestUrl: '',\r\n\t\t\t\tbody:''\r\n\r\n\t\t\t},\r\n\t\t\tcolumns: [\r\n\t\t\t\t{prop:\"logNo\", label:\"ID\", minWidth:60},\r\n\t\t\t\t{prop:\"account\", label:\"操作用户\", minWidth:100},\r\n\t\t\t\t{prop:\"requestUrl\", label:\"方法\", minWidth:180},\r\n\t\t\t\t{prop:\"httpType\", label:\"IP地址\", minWidth:150},\r\n\t\t\t\t{prop:\"body\", label:\"参数\", minWidth:220},\r\n\t\t\t\t{prop:\"responseBody\", label:\"反馈数据\", minWidth:120},\r\n\t\t\t\t{prop:\"elapsedTime\", label:\"耗时\", minWidth:80},\r\n\t\t\t\t{prop:\"startTime\", label:\"开始时间\", minWidth:160},\r\n\t\t\t\t{prop:\"endTime\", label:\"结束时间\", minWidth:160}\r\n\t\t\t],\r\n\t\t\tpageRequest: { pageNum: 1, pageSize: 50 },\r\n\t\t\tpageResult: {},\r\n\t\t\tshowOperation:false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取分页数据\r\n\t\tfindPage: function (data) {\r\n\t\t\tif(data !== null) {\r\n\t\t\t\tthis.pageRequest = data.pageRequest\r\n\t\t\t}else{\r\n\t\t\t\tthis.pageRequest = {pageNum: 1, pageSize: 50}\r\n\t\t\t}\r\n\t\t\tthis.pageRequest.params = {\r\n\t\t\t\t'startTime@ge':this.filters.fdate == null ? '' : this.filters.fdate[0],\r\n        \t\t'startTime@le':this.filters.fdate == null ? '' : this.filters.fdate[1],\r\n\t\t\t\t'account@like':this.filters.account.trim(),\r\n\t\t\t\t'requestUrl@like':this.filters.requestUrl,\r\n\t\t\t\t'body@like':this.filters.body\r\n\t\t\t}\r\n\t\t\tthis.$api.h5log.findPage(this.pageRequest).then((res) => {\r\n\t\t\t\tlet datas = res.data\r\n\t\t\t\tif(datas.content && datas.content.length > 0){\r\n\t\t\t\t\tdatas.content.forEach(item => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif(item.body){\r\n\t\t\t\t\t\t\t\titem.inPara = JSON.parse(item.body)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(item.responseBody){\r\n\t\t\t\t\t\t\t\titem.outPara = JSON.parse(item.responseBody)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.pageResult = datas\r\n\t\t\t}).then(data!=null?data.callback:'')\r\n\t\t},\r\n\t\t// 时间格式化\r\n\t\tdateFormat: function (row, column, cellValue, index){\r\n\t\t\treturn format(row[column.property])\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}