{"remainingRequest":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Sys\\components\\ParaTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\bot-h5\\bot-ui\\src\\views\\Sys\\components\\ParaTable.vue","mtime":1702475008481},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\bot-h5\\bot-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgS3RCdXR0b24gZnJvbSAiQC92aWV3cy9Db3JlL0t0QnV0dG9uIg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVHJlZVRhYmxlJywNCiAgY29tcG9uZW50czp7DQoJCQlLdEJ1dHRvbg0KCX0sDQogIHByb3BzOiB7DQogICAgZGF0YTogT2JqZWN0LCAvLyDooajmoLzliIbpobXmlbDmja4NCiAgICB0YWJsZWRhdGE6ew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OigpPT5bXQ0KICAgIH0sDQogICAgcGVybXNFZGl0OiBTdHJpbmcsICAvLyDnvJbovpHmnYPpmZDmoIfor4YNCiAgICBwZXJtc0RlbGV0ZTogU3RyaW5nLCAgLy8g5Yig6Zmk5p2D6ZmQ5qCH6K+GDQogICAgYnV0dG9uczogew0KICAgICAgdHlwZTpBcnJheSwNCiAgICAgIGRlZmF1bHQ6KCk9PltdDQogICAgfSwNCiAgICBzaXplOiB7IC8vIOWwuuWvuOagt+W8jw0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ21pbmknDQogICAgfSwNCiAgICBhbGlnbjogeyAgLy8g5paH5pys5a+56b2Q5pa55byPDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnbGVmdCcNCiAgICB9LA0KICAgIG1heEhlaWdodDogeyAgLy8g6KGo5qC85pyA5aSn6auY5bqmDQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA3MDANCiAgICB9LA0KICAgIHNob3dPcGVyYXRpb246IHsgIC8vIOaYr+WQpuaYvuekuuaTjeS9nOe7hOS7tg0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGJvcmRlcjogeyAgLy8g5piv5ZCm5pi+56S66L655qGGDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIHN0cmlwZTogeyAgLy8g5piv5ZCm5pi+56S65paR6ams57q/DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgaGlnaGxpZ2h0Q3VycmVudFJvdzogeyAgLy8gLy8g5piv5ZCm6auY5Lqu5b2T5YmN6KGMDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgc2hvd092ZXJmbG93VG9vbHRpcDogeyAgLy8g5piv5ZCm5Y2V6KGM5pi+56S6DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgc2hvd0JhdGNoRGVsZXRlOiB7ICAvLyDmmK/lkKbmmL7npLrmk43kvZznu4Tku7YNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBzaG93U2VxQ29sdW1uOnsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6J2luZGV4Jw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g5YiG6aG15L+h5oGvDQoJCQlwYWdlUmVxdWVzdDogew0KCQkJCXBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiA1MA0KICAgICAgfSwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAgLy8g5Yqg6L295qCH6K+GDQogICAgICBzZWxlY3Rpb25zOiBbXSwgIC8vIOWIl+ihqOmAieS4reWIlw0KICAgICAgYnRuV2lkdGg6IDE4NSwNCiAgICAgIHNob3dPcGVyYXRpb25Tb246IGZhbHNlDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdEJ0bldpZHRoOiBmdW5jdGlvbigpew0KICAgICAgbGV0IHNpemUgPSB0aGlzLmJ1dHRvbnMubGVuZ3RoDQogICAgICBpZih0aGlzLnBlcm1zRWRpdCl7DQogICAgICAgIHNpemUrKw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5wZXJtc0RlbGV0ZSl7DQogICAgICAgIHNpemUrKw0KICAgICAgfQ0KICAgICAgaWYoc2l6ZSA9PTApew0KICAgICAgICB0aGlzLmJ0bldpZHRoID0gMA0KICAgICAgfWVsc2UgaWYoc2l6ZT09MSl7DQogICAgICAgIHRoaXMuYnRuV2lkdGggPSAxMDANCiAgICAgIH1lbHNlIGlmKHNpemU9PTIpew0KICAgICAgICB0aGlzLmJ0bldpZHRoID0gMTg1DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5idG5XaWR0aCA9IDMwMA0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5YiG6aG15p+l6K+iDQogICAgZmluZFBhZ2U6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICBsZXQgY2FsbGJhY2sgPSByZXMgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoJ2ZpbmRQYWdlJywge3BhZ2VSZXF1ZXN0OnRoaXMucGFnZVJlcXVlc3QsIGNhbGxiYWNrOmNhbGxiYWNrfSkNCiAgICB9LA0KICAgIC8vIOmAieaLqeWIh+aNog0KICAgIHNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gKHNlbGVjdGlvbnMpIHsNCiAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnMNCiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbkNoYW5nZScsIHtzZWxlY3Rpb25zOnNlbGVjdGlvbnN9KQ0KICAgIH0sDQogICAgLy8g6YCJ5oup5YiH5o2iDQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlQ3VycmVudENoYW5nZScsIHt2YWw6dmFsfSkNCiAgICB9LA0KICAgIC8vIOaNoumhteWIt+aWsA0KCQlyZWZyZXNoUGFnZVJlcXVlc3Q6IGZ1bmN0aW9uIChwYWdlTnVtKSB7DQogICAgICB0aGlzLnBhZ2VSZXF1ZXN0LnBhZ2VOdW0gPSBwYWdlTnVtDQogICAgICB0aGlzLmZpbmRQYWdlKCkNCiAgICB9LA0KICAgIC8vIOaTjeS9nA0KICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiAoaW5kZXgsIHJvdyxjYWxsYmFjaykgew0KICAgICAgdGhpcy4kZW1pdChjYWxsYmFjaywge2luZGV4OmluZGV4LCByb3c6cm93fSkNCiAgICB9LA0KICAgIC8vIOe8lui+kQ0KCQloYW5kbGVFZGl0OiBmdW5jdGlvbiAoaW5kZXgsIHJvdykgew0KICAgICAgdGhpcy4kZW1pdCgnaGFuZGxlRWRpdCcsIHtpbmRleDppbmRleCwgcm93OnJvd30pDQoJCX0sDQogICAgLy8g5Yig6ZmkDQoJCWhhbmRsZURlbGV0ZTogZnVuY3Rpb24gKGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOivpeiusOW9leWQl++8nycsICfmj5DnpLonLCB7DQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgbGV0IGNhbGxiYWNrID0gcmVzID0+IHsNCiAgICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICfliKDpmaTmiJDlip8nLCB0eXBlOiAnc3VjY2Vzcyd9KQ0KICAgICAgICAgICAgdGhpcy5maW5kUGFnZSgpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICfmk43kvZzlpLHotKUsICcgKyByZXMubXNnLCB0eXBlOiAnZXJyb3InfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRlbWl0KCdoYW5kbGVEZWxldGUnLCB7cGFyYW1zOnJvdywgY2FsbGJhY2s6Y2FsbGJhY2t9KQ0KICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgfSkNCgkJfSwNCgkJLy8g5om56YeP5Yig6ZmkDQoJCWhhbmRsZUJhdGNoRGVsZXRlOiBmdW5jdGlvbiAoKSB7DQoJCQlsZXQgaWRzID0gdGhpcy5zZWxlY3Rpb25zLm1hcChpdGVtID0+IGl0ZW0uaWQpLnRvU3RyaW5nKCkNCgkJCXRoaXMuZGVsZXRlKGlkcykNCgkJfSwNCgkJLy8g5Yig6Zmk5pON5L2cDQoJCWRlbGV0ZTogZnVuY3Rpb24gKGlkcykgew0KCQkJdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk6YCJ5Lit6K6w5b2V5ZCX77yfJywgJ+aPkOekuicsIHsNCgkJCQl0eXBlOiAnd2FybmluZycNCgkJCX0pLnRoZW4oKCkgPT4gew0KCQkJCWxldCBwYXJhbXMgPSBbXQ0KCQkJCWxldCBpZEFycmF5ID0gKGlkcysnJykuc3BsaXQoJywnKQ0KICAgICAgICBpZihpZEFycmF5Lmxlbmd0aD4xKXsNCiAgICAgICAgICBmb3IodmFyIGk9MDsgaTxpZEFycmF5Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgCXBhcmFtcy5wdXNoKHsnaWQnOmlkQXJyYXlbaV19KQ0KICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgcGFyYW1zPXsnaWQnOmlkc30NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgbGV0IGNhbGxiYWNrID0gcmVzID0+IHsNCiAgICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICfliKDpmaTmiJDlip8nLCB0eXBlOiAnc3VjY2Vzcyd9KQ0KICAgICAgICAgICAgdGhpcy5maW5kUGFnZSgpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICfmk43kvZzlpLHotKUsICcgKyByZXMubXNnLCB0eXBlOiAnZXJyb3InfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRlbWl0KCdoYW5kbGVEZWxldGUnLCB7cGFyYW1zOnBhcmFtcywgY2FsbGJhY2s6Y2FsbGJhY2t9KQ0KCQkJfSkuY2F0Y2goKCkgPT4gew0KCQkJfSkNCgkJfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgLy90aGlzLnNob3dPcGVyYXRpb25Tb24gPSB0aGlzLnNob3dPcGVyYXRpb24NCiAgICB0aGlzLnJlZnJlc2hQYWdlUmVxdWVzdCgxKQ0KICB9LA0KICBiZWZvcmVVcGRhdGUoKSB7DQogICAgdGhpcy5pbml0QnRuV2lkdGgoKQ0KICB9DQp9DQo="},{"version":3,"sources":["ParaTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ParaTable.vue","sourceRoot":"src/views/Sys/components","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <!--表格栏-->\r\n    <el-table :data=\"tabledata\" :highlight-current-row=\"highlightCurrentRow\" @selection-change=\"selectionChange\"\r\n          @current-change=\"handleCurrentChange\" v-loading=\"loading\" :element-loading-text=\"$t('action.loading')\" :border=\"border\" :stripe=\"stripe\"\r\n          default-expand-all :tree-props=\"{children: 'children'}\" row-key=\"sysid\" border\r\n          :show-overflow-tooltip=\"showOverflowTooltip\" :max-height=\"maxHeight\" :size=\"size\" :align=\"align\" style=\"width:100%;\">\r\n     <el-table-column :type=\"showSeqColumn\" label=\"序号\" min-width=\"60\" width=\"60\"></el-table-column>\r\n      <el-table-column prop=\"groupname\" label=\"分组名称\" min-width=\"120\" width=\"120\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"!scope.row.sysname\">{{scope.row.groupname}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"sysid\" label=\"参数编号\" min-width=\"80\" width=\"80\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.sysname\">{{scope.row.sysid}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"sysname\" label=\"参数名称\" min-width=\"150\" width=\"150\" header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"sval\" label=\"参数值\"  min-width=\"220\" show-overflow-tooltip header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"isvalid\" label=\"是否启用\" width=\"80\" min-width=\"80\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.isvalid=='Y'\">启用</span>\r\n            <span v-else>禁用</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"memo\" label=\"描述\" min-width=\"180\" header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column :label=\"$t('action.operation')\" :width=\"120\"  v-if=\"showOperation\" header-align=\"center\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <kt-button icon=\"fa fa-edit\" v-show=\"scope.row.sysname\" :label=\"$t('action.edit')\" :perms=\"permsEdit\" :size=\"size\" @click=\"handleEdit(scope.$index, scope.row)\" />\r\n        </template>\r\n\r\n\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport KtButton from \"@/views/Core/KtButton\"\r\nexport default {\r\n  name: 'TreeTable',\r\n  components:{\r\n\t\t\tKtButton\r\n\t},\r\n  props: {\r\n    data: Object, // 表格分页数据\r\n    tabledata:{\r\n      type: Array,\r\n      default:()=>[]\r\n    },\r\n    permsEdit: String,  // 编辑权限标识\r\n    permsDelete: String,  // 删除权限标识\r\n    buttons: {\r\n      type:Array,\r\n      default:()=>[]\r\n    },\r\n    size: { // 尺寸样式\r\n      type: String,\r\n      default: 'mini'\r\n    },\r\n    align: {  // 文本对齐方式\r\n      type: String,\r\n      default: 'left'\r\n    },\r\n    maxHeight: {  // 表格最大高度\r\n      type: Number,\r\n      default: 700\r\n    },\r\n    showOperation: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    border: {  // 是否显示边框\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    stripe: {  // 是否显示斑马线\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    highlightCurrentRow: {  // // 是否高亮当前行\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showOverflowTooltip: {  // 是否单行显示\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showBatchDelete: {  // 是否显示操作组件\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    showSeqColumn:{\r\n      type: String,\r\n      default:'index'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 分页信息\r\n\t\t\tpageRequest: {\r\n\t\t\t\tpageNum: 1,\r\n        pageSize: 50\r\n      },\r\n      loading: false,  // 加载标识\r\n      selections: [],  // 列表选中列\r\n      btnWidth: 185,\r\n      showOperationSon: false\r\n    }\r\n  },\r\n  methods: {\r\n    initBtnWidth: function(){\r\n      let size = this.buttons.length\r\n      if(this.permsEdit){\r\n        size++\r\n      }\r\n      if(this.permsDelete){\r\n        size++\r\n      }\r\n      if(size ==0){\r\n        this.btnWidth = 0\r\n      }else if(size==1){\r\n        this.btnWidth = 100\r\n      }else if(size==2){\r\n        this.btnWidth = 185\r\n      }else{\r\n        this.btnWidth = 300\r\n      }\r\n    },\r\n    // 分页查询\r\n    findPage: function () {\r\n        this.loading = true\r\n        let callback = res => {\r\n          this.loading = false\r\n        }\r\n      this.$emit('findPage', {pageRequest:this.pageRequest, callback:callback})\r\n    },\r\n    // 选择切换\r\n    selectionChange: function (selections) {\r\n      this.selections = selections\r\n      this.$emit('selectionChange', {selections:selections})\r\n    },\r\n    // 选择切换\r\n    handleCurrentChange: function (val) {\r\n      this.$emit('handleCurrentChange', {val:val})\r\n    },\r\n    // 换页刷新\r\n\t\trefreshPageRequest: function (pageNum) {\r\n      this.pageRequest.pageNum = pageNum\r\n      this.findPage()\r\n    },\r\n    // 操作\r\n    handleClick: function (index, row,callback) {\r\n      this.$emit(callback, {index:index, row:row})\r\n    },\r\n    // 编辑\r\n\t\thandleEdit: function (index, row) {\r\n      this.$emit('handleEdit', {index:index, row:row})\r\n\t\t},\r\n    // 删除\r\n\t\thandleDelete: function (index, row) {\r\n      this.$confirm('确认删除该记录吗？', '提示', {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.loading = true\r\n        let callback = res => {\r\n          if(res.code == 200) {\r\n            this.$message({message: '删除成功', type: 'success'})\r\n            this.findPage()\r\n          } else {\r\n            this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n          }\r\n          this.loading = false\r\n        }\r\n        this.$emit('handleDelete', {params:row, callback:callback})\r\n      }).catch(() => {\r\n      })\r\n\t\t},\r\n\t\t// 批量删除\r\n\t\thandleBatchDelete: function () {\r\n\t\t\tlet ids = this.selections.map(item => item.id).toString()\r\n\t\t\tthis.delete(ids)\r\n\t\t},\r\n\t\t// 删除操作\r\n\t\tdelete: function (ids) {\r\n\t\t\tthis.$confirm('确认删除选中记录吗？', '提示', {\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tlet params = []\r\n\t\t\t\tlet idArray = (ids+'').split(',')\r\n        if(idArray.length>1){\r\n          for(var i=0; i<idArray.length; i++) {\r\n          \tparams.push({'id':idArray[i]})\r\n          }\r\n        }else{\r\n          params={'id':ids}\r\n        }\r\n\r\n        this.loading = true\r\n        let callback = res => {\r\n          if(res.code == 200) {\r\n            this.$message({message: '删除成功', type: 'success'})\r\n            this.findPage()\r\n          } else {\r\n            this.$message({message: '操作失败, ' + res.msg, type: 'error'})\r\n          }\r\n          this.loading = false\r\n        }\r\n        this.$emit('handleDelete', {params:params, callback:callback})\r\n\t\t\t}).catch(() => {\r\n\t\t\t})\r\n\t\t}\r\n  },\r\n  mounted() {\r\n   //this.showOperationSon = this.showOperation\r\n    this.refreshPageRequest(1)\r\n  },\r\n  beforeUpdate() {\r\n    this.initBtnWidth()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}